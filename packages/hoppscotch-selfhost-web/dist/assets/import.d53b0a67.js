import{f as h,D as y,ah as P,p as r,gQ as D,ff as v,o as M,d as A,a8 as C,a6 as F,gJ as N,gN as m,cD as S,gR as L,cC as b,gS as x,gD as k,cH as U,a9 as V,db as B}from"./index.d0a044cd.js";import{a as l,c as H,t as J}from"./TaskOption.ecbd7dd2.js";import{e as f,O as W,U as q}from"./importers.4a81f634.js";import"./json.f61ee1c3.js";import"./events.9c2a11a1.js";const u=i=>a=>typeof a===i,z=h({__name:"import",setup(i){const a=V(),d=C(),n=F(),c=y(),p="importer_invalid_type",_="importer_invalid_fetch",R=(t,s)=>r(U,b("importer",()=>r(q,x(o=>o.applicableTo.includes("url-import")&&o.id===s),k(()=>p))),L("content",()=>r(t,l(u("string")),H(T),m(()=>_))),N(({importer:o,content:e})=>r(e.data,l(u("string")),m(()=>f),S(g=>o.importer([g])))));P(async()=>{const{query:t}=a,s=t.url,o=t.type,e=await R(s,o)();r(e,D(E,O)),d.replace("/")});const I={[p]:"import.import_from_url_invalid_type",[_]:"import.import_from_url_invalid_fetch",[f]:"import.import_from_url_invalid_file_format",[W]:"import.import_from_url_invalid_file_format"},E=t=>{n.error(c(I[t]).toString())},O=t=>{v(t),n.success(c("import.import_from_url_success").toString())},T=t=>J(()=>B.get(t,{responseType:"text",transitional:{forcedJSONParsing:!1}}));return(t,s)=>(M(),A("div"))}});export{z as default};
//# sourceMappingURL=import.d53b0a67.js.map
