import{f as w,D as _,j as h,g as b,p as v,h as k,ea as x,bq as m,aW as g,bj as L,bi as B,ep as D,i as R,bl as C,X as S,ah as A,b9 as F,z as j,o as f,d as H,e as l,t as U,l as r,k as z,c as I,aH as M,s as $,x as E}from"./index.d0a044cd.js";import{a as N}from"./lens-actions.9bfefbd8.js";import{s as P}from"./save.06de7724.js";import"./check-circle.c3e1d2f3.js";import"./importers.4a81f634.js";import"./json.f61ee1c3.js";import"./events.9c2a11a1.js";import"./TaskOption.ecbd7dd2.js";import"./rotate-ccw.abb2a2e2.js";import"./json.c2861aa3.js";import"./utils.a018fd3f.js";import"./date.ff230613.js";import"./helpers.fca9b3bf.js";import"./EnvInput.vue_vue_type_script_setup_true_lang.83445eb1.js";const T={class:"flex flex-col flex-1"},V={class:"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},q={class:"font-semibold truncate text-secondaryLight"},J={class:"flex"},K=["src","alt"],le=w({__name:"ImageLensRenderer",props:{response:null},setup(c){const t=c,d=_(),s=h(""),u=b(()=>v(t.response,C(P("type",["fail","success"])),x(m(e=>e.headers,R(e=>e.key.toLowerCase()==="content-type"),g(m(e=>e.value,L(";"),B,D)))),k(()=>"text/plain"))),{downloadIcon:y,downloadResponse:p}=N(u.value,b(()=>t.response.body));return S(t.response,()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:i})=>{s.value=i.result},o.readAsDataURL(a)}),A(()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:i})=>{s.value=i.result},o.readAsDataURL(a)}),F("response.file.download",()=>p()),(e,n)=>{const a=E,o=j("tippy");return f(),H("div",T,[l("div",V,[l("label",q,U(r(d)("response.body")),1),l("div",J,[c.response.body?z((f(),I(a,{key:0,title:`${r(d)("action.download_file")} <kbd>${r(M)()}</kbd><kbd>J</kbd>`,icon:r(y),onClick:r(p)},null,8,["title","icon","onClick"])),[[o,{theme:"tooltip",allowHTML:!0}]]):$("",!0)])]),l("img",{class:"flex max-w-full border-b border-dividerLight",src:s.value,loading:"lazy",alt:s.value},null,8,K)])}}});export{le as default};
//# sourceMappingURL=ImageLensRenderer.8a7330d3.js.map
