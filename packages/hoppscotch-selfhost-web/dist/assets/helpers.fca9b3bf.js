import{p as c,cB as h,cC as n,cD as g,bq as q,cE as m,cF as C,ch as a,cG as f,cH as y,cI as D,cJ as b,aL as r,cK as o,cL as l,cM as I,cf as v,cN as w}from"./index.d0a044cd.js";const p=10,E=async t=>{const e=[];for(;;){const s=await a({query:b,variables:{collectionID:t,cursor:e.length>0?e[e.length-1]:void 0}});if(r(s))return o(s.left);if(e.push(...s.right.collection.children.map(i=>i.id)),s.right.collection.children.length!==p)break}return l(e)},G=async t=>{const e=[];for(;;){const s=await a({query:I,variables:{collectionID:t,cursor:e.length>0?e[e.length-1].id:void 0}});if(r(s))return o(s.left);if(e.push(...s.right.requestsInCollection.map(i=>({id:i.id,request:v(JSON.parse(i.request)),collectionID:t,title:i.title}))),s.right.requestsInCollection.length!==p)break}return l(e)},L=t=>c(y,n("title",()=>c(()=>a({query:f,variables:{collectionID:t}}),h(e=>e.collection.title))),n("children",()=>c(()=>E(t),g(q(C(L),m)))),n("requests",()=>()=>G(t)),h(({title:e,children:s,requests:i})=>({id:t,children:s,requests:i,title:e}))),T=t=>{var e,s,i,u;return D({name:t.title,folders:(s=(e=t.children)==null?void 0:e.map(T))!=null?s:[],requests:(u=(i=t.requests)==null?void 0:i.map(d=>d.request))!=null?u:[]})},J=async t=>{const e=await a({query:w,variables:{teamID:t}});return r(e)?o(e.left):l(e.right)};export{p as B,J as a,L as g,T as t};
//# sourceMappingURL=helpers.fca9b3bf.js.map
