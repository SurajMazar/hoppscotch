var Ql=Object.defineProperty;var Yl=(e,t,o)=>t in e?Ql(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var ie=(e,t,o)=>(Yl(e,typeof t!="symbol"?t+"":t,o),o);import{eV as Vo,eW as wt,eX as Zl,eY as Go,aU as en,eZ as zo,e_ as tn,e$ as Ko,f0 as on,f1 as Gt,f2 as ln,f3 as nn,f4 as sn,f5 as an,f6 as rn,f7 as dn,f8 as cn,f9 as un,fa as pn,f as te,D as oe,j as I,g as W,X as fe,V as Ce,fb as Jo,aR as ee,z as de,o as x,c as G,w as B,k as N,l as s,dB as fn,s as K,d as M,e as i,n as Re,q as Se,N as le,a as $,t as z,v as qe,fc as mn,bh as zt,d9 as Nt,x as se,ar as Ie,H as Ge,fd as vn,bZ as ke,a6 as me,p as re,fe as Wo,ff as hn,dC as gn,a1 as Be,m as Q,e4 as _e,r as Oe,aE as je,fg as yn,cp as St,eC as qn,eD as xn,eE as $n,eF as Cn,aY as bn,cg as kn,b3 as be,b as Ye,dh as pt,a$ as Xo,ak as Ze,da as et,a2 as tt,fh as Qo,al as ut,ba as Et,b2 as Tt,bb as Yo,eb as Zo,a_ as el,dl as Ee,y as Kt,dw as tl,Y as _n,b6 as ol,bN as Do,ch as bt,fi as Rn,aL as we,cf as Lt,dq as Ae,fj as In,fk as wn,fl as Sn,fm as En,fn as Tn,fo as Dn,fp as An,fq as Mn,fr as Ln,fs as Pn,ft as On,cM as Fn,cs as Te,fu as Un,fv as Hn,fw as Nn,fx as Bn,fy as jn,fz as Vn,fA as Gn,fB as zn,eA as Kn,fC as Jn,fD as Wn,fE as Xn,fF as Qn,db as Bt,fG as Yn,fH as Dt,fI as Zn,ey as es,du as ts,dv as os,cn as ls,fJ as ns,cI as ll,cr as he,fK as _t,eJ as ct,fL as ss,fM as as,fN as is,fO as Ue,ez as nl,bf as jt,eH as Ao,fP as rs,fQ as Pt,fR as Mo,fS as Lo,fT as ds,fU as cs,a5 as ft,fV as us,fW as Ot,fX as Ft,fY as ps,fZ as fs,f_ as ms,dy as kt,f$ as sl,g0 as vs,g1 as hs,g2 as al,_ as mt,g3 as gs,g4 as Jt,g5 as ys,g6 as qs,g7 as Wt,g8 as il,g9 as xs,ga as $s,gb as rl,gc as Cs,bX as bs,gd as Rt,ge as ks,gf as _s,gg as Rs,aZ as Is,gh as Ke,am as Xt,gi as ws,gj as Ss,cF as Es,b0 as Ts,ed as Ds,gk as As,gl as Ms,gm as Ls,gn as Po,go as Oo,gp as Ps,gq as Os,gr as Fs,gs as Us,aQ as Hs,aG as it,gt as rt,aF as dt,gu as Ns,gv as Je}from"./index.d0a044cd.js";import{I as ot}from"./check-circle.c3e1d2f3.js";import{R as Bs,I as Ve,d as js}from"./importers.4a81f634.js";import{I as dl}from"./rotate-ccw.abb2a2e2.js";import{I as Xe}from"./json.c2861aa3.js";import{t as Vs,g as Gs,a as zs}from"./helpers.fca9b3bf.js";import{s as cl}from"./date.ff230613.js";import{_ as Ks}from"./EnvInput.vue_vue_type_script_setup_true_lang.83445eb1.js";function Js(e,t,o,l){for(var n=e.length,a=o+(l?1:-1);l?a--:++a<n;)if(t(e[a],a,e))return a;return-1}function Ws(e){return e!==e}function Xs(e,t,o){for(var l=o-1,n=e.length;++l<n;)if(e[l]===t)return l;return-1}function Qs(e,t,o){return t===t?Xs(e,t,o):Js(e,Ws,o)}function Qt(e,t){t=Vo(t,e);for(var o=0,l=t.length;e!=null&&o<l;)e=e[wt(t[o++])];return o&&o==l?e:void 0}function Ys(e,t,o){var l=e==null?void 0:Qt(e,t);return l===void 0?o:l}function Zs(e,t,o){var l=-1,n=e.length;t<0&&(t=-t>n?0:n+t),o=o>n?n:o,o<0&&(o+=n),n=t>o?0:o-t>>>0,t>>>=0;for(var a=Array(n);++l<n;)a[l]=e[l+t];return a}var ea=1,ta=2;function oa(e,t,o,l){var n=o.length,a=n,c=!l;if(e==null)return!a;for(e=Object(e);n--;){var f=o[n];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++n<a;){f=o[n];var y=f[0],C=e[y],h=f[1];if(c&&f[2]){if(C===void 0&&!(y in e))return!1}else{var R=new Zl;if(l)var w=l(C,h,y,e,t,R);if(!(w===void 0?Go(h,C,ea|ta,l,R):w))return!1}}return!0}function ul(e){return e===e&&!en(e)}function la(e){for(var t=zo(e),o=t.length;o--;){var l=t[o],n=e[l];t[o]=[l,n,ul(n)]}return t}function pl(e,t){return function(o){return o==null?!1:o[e]===t&&(t!==void 0||e in Object(o))}}function na(e){var t=la(e);return t.length==1&&t[0][2]?pl(t[0][0],t[0][1]):function(o){return o===e||oa(o,e,t)}}function sa(e,t){return e!=null&&t in Object(e)}function aa(e,t){return e!=null&&tn(e,t,sa)}var ia=1,ra=2;function da(e,t){return Ko(e)&&ul(t)?pl(wt(e),t):function(o){var l=Ys(o,e);return l===void 0&&l===t?aa(o,e):Go(t,l,ia|ra)}}function ca(e){return function(t){return t==null?void 0:t[e]}}function ua(e){return function(t){return Qt(t,e)}}function pa(e){return Ko(e)?ca(wt(e)):ua(e)}function Yt(e){return typeof e=="function"?e:e==null?on:typeof e=="object"?Gt(e)?da(e[0],e[1]):na(e):pa(e)}function fa(e,t,o,l){for(var n=-1,a=e==null?0:e.length;++n<a;){var c=e[n];t(l,c,o(c),e)}return l}function ma(e){return function(t,o,l){for(var n=-1,a=Object(t),c=l(t),f=c.length;f--;){var y=c[e?f:++n];if(o(a[y],y,a)===!1)break}return t}}var va=ma();const ha=va;function ga(e,t){return e&&ha(e,t,zo)}function ya(e,t){return function(o,l){if(o==null)return o;if(!ln(o))return e(o,l);for(var n=o.length,a=t?n:-1,c=Object(o);(t?a--:++a<n)&&l(c[a],a,c)!==!1;);return o}}var qa=ya(ga);const fl=qa;function xa(e,t,o,l){return fl(e,function(n,a,c){t(l,n,o(n),c)}),l}function $a(e,t){return function(o,l){var n=Gt(o)?fa:xa,a=t?t():{};return n(o,e,Yt(l),a)}}function Ca(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ml=/[\\^$.*+?()[\]{}|]/g,ba=RegExp(ml.source);function ka(e){return e=nn(e),e&&ba.test(e)?e.replace(ml,"\\$&"):e}function _a(e,t){var o=[];return fl(e,function(l,n,a){t(l,n,a)&&o.push(l)}),o}function Ra(e,t){var o=Gt(e)?sn:_a;return o(e,Yt(t))}var Ia=Object.prototype,wa=Ia.hasOwnProperty,Sa=$a(function(e,t,o){wa.call(e,o)?e[o].push(t):an(e,o,[t])});const Ea=Sa;function Ta(e,t){return t.length<2?e:Qt(e,Zs(t,0,-1))}function Da(e,t){return t=Vo(t,e),e=Ta(e,t),e==null||delete e[wt(Ca(t))]}function Aa(e,t,o,l){for(var n=o-1,a=e.length;++n<a;)if(l(e[n],t))return n;return-1}var Ma=Array.prototype,Fo=Ma.splice;function La(e,t,o,l){var n=l?Aa:Qs,a=-1,c=t.length,f=e;for(e===t&&(t=rn(t)),o&&(f=dn(e,cn(o)));++a<c;)for(var y=0,C=t[a],h=o?o(C):C;(y=n(f,h,y,l))>-1;)f!==e&&Fo.call(f,y,1),Fo.call(e,y,1);return e}function Pa(e,t){return e&&e.length&&t&&t.length?La(e,t):e}var Oa=un(Pa);const Fa=Oa;var Ua=Array.prototype,Ha=Ua.splice;function Na(e,t){for(var o=e?t.length:0,l=o-1;o--;){var n=t[o];if(o==l||n!==a){var a=n;pn(n)?Ha.call(e,n,1):Da(e,n)}}return e}function Ba(e,t){var o=[];if(!(e&&e.length))return o;var l=-1,n=[],a=e.length;for(t=Yt(t);++l<a;){var c=e[l];t(c,l,e)&&(o.push(c),n.push(l))}return Na(e,n),o}const ja={key:0,class:"flex flex-col"},Va={class:"flex flex-col pb-4"},Ga={key:0,class:"space-y-4"},za={class:"flex items-center"},Ka={class:"flex flex-col ml-10 border border-dashed rounded border-dividerDark"},Ja=["accept"],Wa={key:1,class:"space-y-4"},Xa={class:"flex items-center"},Qa={class:"flex flex-col ml-10"},Ya=["placeholder"],Za={key:2,class:"flex flex-col"},ei={class:"select-wrapper"},ti={key:void 0,value:void 0,disabled:"",selected:""},oi=["value"],li={key:1,class:"flex flex-col"},ni=i("hr",null,null,-1),si={class:"flex flex-col space-y-2"},ai=["title"],ii=te({__name:"ImportExport",props:{show:{type:Boolean,default:!1,required:!0},collectionsType:{type:String,default:"my-collections",required:!0},exportingTeamCollections:{type:Boolean,default:!1,required:!1},creatingGistCollection:{type:Boolean,default:!1,required:!1},importingMyCollections:{type:Boolean,default:!1,required:!1}},emits:["hide-modal","update-team-collections","export-json-collection","create-collection-gist","import-to-teams"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=I(!1),c=I(!1),f=I(null),y=I([]),C=I(),h=I(void 0),R=I(""),w=W(()=>Bs.filter(q=>{var v,H;return(H=(v=q.applicableTo)==null?void 0:v.includes(o.collectionsType))!=null?H:!0})),L=W(()=>f.value===null?null:w.value[f.value]),A=W(()=>{var q,v;return(v=(q=L.value)==null?void 0:q.steps)!=null?v:null}),U=W(()=>{var q;return y.value.length!==((q=A.value)==null?void 0:q.length)});fe(h,q=>{q!==void 0&&(y.value=[],y.value.push(q))}),fe(R,q=>{y.value=[],q===""?c.value=!1:(c.value=!0,y.value.push(R.value))});const X=Ce(Jo,[]),T=Ce(ee.auth.getCurrentUserStream(),ee.auth.getCurrentUser()),b=async q=>{!L.value||re(await L.value.importer(q)(),Wo(v=>{r(),console.error("error",v)},v=>{var H;o.collectionsType==="team-collections"?t("import-to-teams",v):(hn(v),(H=ee.analytics)==null||H.logEvent({type:"HOPP_IMPORT_COLLECTION",importer:L.value.name,platform:"rest",workspaceType:"personal"}),p())}))},g=async()=>{await b(y.value)},m=()=>{y.value=[];const q=C.value[0];if(!q){a.value=!1;return}if(!q.files||q.files.length===0){C.value[0].value="",a.value=!1,l.show(n("action.choose_file").toString());return}const v=new FileReader;v.onload=({target:H})=>{const j=H.result;if(!j){a.value=!1,l.show(n("action.choose_file").toString());return}y.value.push(j),a.value=!!(j!=null&&j.length)},v.readAsText(q.files[0])},p=()=>{l.success(n("state.file_imported").toString()),_()},r=()=>{l.error(n("import.failed").toString())},_=()=>{E(),t("hide-modal")},E=()=>{f.value=null,a.value=!1,c.value=!1,y.value=[],C.value="",R.value="",h.value=void 0};return(q,v)=>{const H=se,j=ot,F=Ie,S=Ge,J=vn,P=ke,V=de("tippy");return e.show?(x(),G(P,{key:0,dialog:"",title:s(n)("modal.collections"),styles:"sm:max-w-md",onClose:_},{actions:B(()=>[f.value!==null?N((x(),G(H,{key:0,title:s(n)("action.go_back"),icon:s(fn),onClick:E},null,8,["title","icon"])),[[V,{theme:"tooltip"}]]):K("",!0)]),body:B(()=>[f.value!==null?(x(),M("div",ja,[i("div",Va,[(x(!0),M(Re,null,Se(s(A),(Y,ue)=>(x(),M("div",{key:`step-${ue}`,class:"flex flex-col space-y-8"},[Y.name==="FILE_IMPORT"?(x(),M("div",Ga,[i("p",za,[i("span",{class:le(["inline-flex items-center justify-center flex-shrink-0 mr-4 border-4 rounded-full border-primary text-dividerDark",{"!text-green-500":a.value}])},[$(j,{class:"svg-icons"})],2),i("span",null,z(s(n)(`${Y.metadata.caption}`)),1)]),i("p",Ka,[i("input",{id:"inputChooseFileToImportFrom",ref_for:!0,ref_key:"inputChooseFileToImportFrom",ref:C,name:"inputChooseFileToImportFrom",type:"file",class:"p-4 cursor-pointer transition file:transition file:cursor-pointer text-secondary hover:text-secondaryDark file:mr-2 file:py-2 file:px-4 file:rounded file:border-0 file:text-secondary hover:file:text-secondaryDark file:bg-primaryLight hover:file:bg-primaryDark",accept:Y.metadata.acceptedFileTypes,onChange:m},null,40,Ja)])])):Y.name==="URL_IMPORT"?(x(),M("div",Wa,[i("p",Xa,[i("span",{class:le(["inline-flex items-center justify-center flex-shrink-0 mr-4 border-4 rounded-full border-primary text-dividerDark",{"!text-green-500":c.value}])},[$(j,{class:"svg-icons"})],2),i("span",null,z(s(n)(`${Y.metadata.caption}`)),1)]),i("p",Qa,[N(i("input",{"onUpdate:modelValue":v[0]||(v[0]=ae=>R.value=ae),type:"url",class:"input",placeholder:`${s(n)("import.gist_url")}`},null,8,Ya),[[qe,R.value]])])])):Y.name==="TARGET_MY_COLLECTION"?(x(),M("div",Za,[i("div",ei,[N(i("select",{"onUpdate:modelValue":v[1]||(v[1]=ae=>h.value=ae),autocomplete:"off",class:"select",autofocus:""},[(x(),M("option",ti,z(s(n)("collection.select")),1)),(x(!0),M(Re,null,Se(s(X),(ae,De)=>(x(),M("option",{key:`collection-${De}`,value:De,class:"bg-primary"},z(ae.name),9,oi))),128))],512),[[mn,h.value]])])])):K("",!0)]))),128))]),$(F,{label:s(n)("import.title"),disabled:s(U),loading:e.importingMyCollections,onClick:g},null,8,["label","disabled","loading"])])):(x(),M("div",li,[$(J,null,{body:B(()=>[(x(!0),M(Re,null,Se(s(w),(Y,ue)=>(x(),G(S,{key:`importer-${ue}`,icon:Y.icon,label:s(n)(`${Y.name}`),onClick:ae=>f.value=ue},null,8,["icon","label","onClick"]))),128))]),_:1}),ni,i("div",si,[N($(S,{title:s(n)("action.download_file"),icon:s(zt),loading:e.exportingTeamCollections,label:s(n)("export.as_json"),onClick:v[2]||(v[2]=Y=>t("export-json-collection"))},null,8,["title","icon","loading","label"]),[[V,{theme:"tooltip"}]]),s(ee).platformFeatureFlags.exportAsGIST?N((x(),M("span",{key:0,title:s(T)?s(T).provider!=="github.com"?`${s(n)("export.require_github")}`:void 0:`${s(n)("export.require_github")}`,class:"flex"},[$(S,{disabled:s(T)?s(T).provider!=="github.com":!0,icon:s(Nt),loading:e.creatingGistCollection,label:s(n)("export.create_secret_gist"),onClick:v[3]||(v[3]=Y=>t("create-collection-gist"))},null,8,["disabled","icon","loading","label"])],8,ai)),[[V,{theme:"tooltip"}]]):K("",!0)])]))]),_:1},8,["title"])):K("",!0)}}}),ri={class:"flex flex-col"},di=["onKeyup"],ci={for:"selectLabelEditReq"},ui={class:"flex space-x-2"},pi=te({__name:"EditRequest",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1},modelValue:{default:""}},emits:["submit","hide-modal","update:modelValue"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=gn(o,"modelValue"),c=()=>{if(a.value.trim()===""){l.error(n("request.invalid_name"));return}t("submit",a.value)},f=()=>{a.value="",t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(n)("modal.edit_request"),onClose:f},{body:B(()=>[i("div",ri,[N(i("input",{id:"selectLabelEditReq","onUpdate:modelValue":C[0]||(C[0]=A=>Be(a)?a.value=A:null),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,di),[[qe,s(a)],[L]]),i("label",ci,z(s(n)("action.label")),1)])]),footer:B(()=>[i("span",ui,[$(h,{label:s(n)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(n)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),fi={class:"flex flex-col"},mi=["onKeyup"],vi={for:"selectLabelEditFolder"},hi={class:"flex space-x-2"},gi=te({__name:"EditFolder",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1},editingFolderName:{default:""}},emits:["submit","hide-modal"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=I("");fe(()=>o.editingFolderName,y=>{a.value=y});const c=()=>{if(a.value.trim()===""){n.error(l("folder.invalid_name"));return}t("submit",a.value)},f=()=>{a.value="",t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(l)("folder.edit"),onClose:C[1]||(C[1]=A=>t("hide-modal"))},{body:B(()=>[i("div",fi,[N(i("input",{id:"selectLabelEditFolder","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,mi),[[qe,a.value],[L]]),i("label",vi,z(s(l)("action.label")),1)])]),footer:B(()=>[i("span",hi,[$(h,{label:s(l)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(l)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),yi={class:"flex flex-col"},qi=["onKeyup"],xi={for:"selectLabelEdit"},$i={class:"flex space-x-2"},Ci=te({__name:"Edit",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1},editingCollectionName:{default:""}},emits:["submit","hide-modal"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=I("");fe(()=>o.editingCollectionName,y=>{a.value=y});const c=()=>{if(a.value.trim()===""){n.error(l("collection.invalid_name"));return}t("submit",a.value)},f=()=>{a.value="",t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(l)("collection.edit"),onClose:f},{body:B(()=>[i("div",yi,[N(i("input",{id:"selectLabelEdit","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,qi),[[qe,a.value],[L]]),i("label",xi,z(s(l)("action.label")),1)])]),footer:B(()=>[i("span",$i,[$(h,{label:s(l)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(l)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),bi={class:"flex flex-col"},ki=["onKeyup"],_i={for:"selectLabelAddFolder"},Ri={class:"flex space-x-2"},Ii=te({__name:"AddFolder",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1}},emits:["hide-modal","add-folder"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=I("");fe(()=>o.show,y=>{y||(a.value="")});const c=()=>{if(a.value.trim()===""){l.error(n("folder.invalid_name"));return}t("add-folder",a.value)},f=()=>{a.value="",t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(n)("folder.new"),onClose:C[1]||(C[1]=A=>t("hide-modal"))},{body:B(()=>[i("div",bi,[N(i("input",{id:"selectLabelAddFolder","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,ki),[[qe,a.value],[L]]),i("label",_i,z(s(n)("action.label")),1)])]),footer:B(()=>[i("span",Ri,[$(h,{label:s(n)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(n)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),wi={class:"flex flex-col"},Si=["onKeyup"],Ei={for:"selectLabelAddRequest"},Ti={class:"flex space-x-2"},Di=te({__name:"AddRequest",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1}},emits:["hide-modal","add-request"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=I("");fe(()=>o.show,y=>{y&&(a.value=_e.value.document.request.name)});const c=()=>{if(a.value.trim()===""){l.error(`${n("error.empty_req_name")}`);return}t("add-request",a.value)},f=()=>{t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(n)("request.new"),onClose:C[1]||(C[1]=A=>y.$emit("hide-modal"))},{body:B(()=>[i("div",wi,[N(i("input",{id:"selectLabelAddRequest","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,Si),[[qe,a.value],[L]]),i("label",Ei,z(s(n)("action.label")),1)])]),footer:B(()=>[i("span",Ti,[$(h,{label:s(n)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(n)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),Ai={class:"flex flex-col"},Mi=["onKeyup"],Li={for:"selectLabelAdd"},Pi={class:"flex space-x-2"},Oi=te({__name:"Add",props:{show:{type:Boolean,default:!1},loadingState:{type:Boolean,default:!1}},emits:["submit","hide-modal"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=I("");fe(()=>o.show,y=>{y||(a.value="")});const c=()=>{if(!a.value){l.error(n("collection.invalid_name"));return}t("submit",a.value)},f=()=>{a.value="",t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(n)("collection.new"),onClose:f},{body:B(()=>[i("div",Ai,[N(i("input",{id:"selectLabelAdd","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,Mi),[[qe,a.value],[L]]),i("label",Li,z(s(n)("action.label")),1)])]),footer:B(()=>[i("span",Pi,[$(h,{label:s(n)("action.save"),loading:e.loadingState,outline:"",onClick:c},null,8,["label","loading"]),$(R,{label:s(n)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),Fi={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ui=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("path",{d:"M16 12H3m13-6H3m7 12H3M21 6v10a2 2 0 0 1-2 2h-4"}),i("path",{d:"m16 16l-2 2l2 2"})],-1),Hi=[Ui];function Ni(e,t){return x(),M("svg",Fi,Hi)}const Bi={name:"lucide-list-end",render:Ni},ji={key:0,class:"flex"},Vi={key:1,class:"flex flex-col items-center justify-center flex-1 p-4"},Gi={class:"text-secondaryLight"},zi={key:2,class:"flex flex-col flex-1"},Ki=te({__name:"TreeBranch",props:{adapter:null,nodeItem:null},setup(e){const t=e,o="default",l=oe(),n=I(!1),a=I(!1),c=I(!1),f=I(!1),y=W(()=>t.adapter.getChildren(t.nodeItem.id).value),C=()=>{n.value||(n.value=!0),a.value=!a.value,c.value=!c.value},h=R=>{R?f.value=!0:f.value=!1};return(R,w)=>{const L=Oe("TreeBranch",!0),A=St;return x(),M(Re,null,[je(R.$slots,"default",{node:e.nodeItem,toggleChildren:C,isOpen:c.value,highlightChildren:U=>h(U)}),n.value?N((x(),M("div",ji,[i("div",{class:"bg-dividerLight cursor-nsResize flex ml-5.5 transform transition w-0.5 hover:bg-dividerDark hover:scale-x-125",onClick:C}),s(y).status==="loaded"&&s(y).data.length>0?(x(),M("div",{key:0,class:le(["flex flex-col flex-1 truncate",{"bg-divider":f.value}])},[(x(!0),M(Re,null,Se(s(y).data,U=>(x(),G(L,{key:U.id,"node-item":U,adapter:e.adapter},{[o]:B(({node:X,toggleChildren:T,isOpen:b,highlightChildren:g})=>[je(R.$slots,"default",{node:X,toggleChildren:T,isOpen:b,highlightChildren:m=>g(m)})]),emptyNode:B(({node:X})=>[je(R.$slots,"emptyNode",{node:X})]),_:2},1032,["node-item","adapter"]))),128))],2)):K("",!0),s(y).status==="loading"?(x(),M("div",Vi,[$(A,{class:"my-4"}),i("span",Gi,z(s(l)("state.loading")),1)])):K("",!0),s(y).status==="loaded"&&s(y).data.length===0?(x(),M("div",zi,[je(R.$slots,"emptyNode",{node:e.nodeItem})])):K("",!0)],512)),[[yn,a.value]]):K("",!0)],64)}}}),Ji={class:"flex flex-col flex-1"},Wi={key:0,class:"flex flex-col"},Xi={key:1,class:"flex flex-col items-center justify-center flex-1 p-4"},Qi={class:"text-secondaryLight"},Yi={key:2,class:"flex flex-col flex-1"},vl=te({__name:"Tree",props:{adapter:null},setup(e){const t=e,o=oe(),l=W(()=>t.adapter.getChildren(null).value);return(n,a)=>{const c=Ki,f=St;return x(),M("div",Ji,[s(l).status==="loaded"&&s(l).data.length>0?(x(),M("div",Wi,[(x(!0),M(Re,null,Se(s(l).data,y=>(x(),M("div",{key:y.id,class:"flex flex-col flex-1"},[$(c,{"node-item":y,adapter:e.adapter},{default:B(({node:C,toggleChildren:h,isOpen:R,highlightChildren:w})=>[je(n.$slots,"content",{node:C,toggleChildren:h,isOpen:R,highlightChildren:L=>w(L)})]),emptyNode:B(({node:C})=>[je(n.$slots,"emptyNode",{node:C})]),_:2},1032,["node-item","adapter"])]))),128))])):s(l).status==="loading"?(x(),M("div",Xi,[$(f,{class:"my-4"}),i("span",Qi,z(s(o)("state.loading")),1)])):K("",!0),s(l).status==="loaded"&&s(l).data.length===0?(x(),M("div",Yi,[je(n.$slots,"emptyNode",{node:null})])):K("",!0)])}}}),Zi={currentReorderingItem:{type:"collection",id:"",parentID:""}},er=Cn({changeCurrentReorderStatus(e,{reorderItem:t}){return{currentReorderingItem:t}}}),hl=new qn(Zi,er),Zt=hl.subject$.pipe(xn("currentReorderingItem"),$n());function gl(e){hl.dispatch({dispatcher:"changeCurrentReorderStatus",payload:{reorderItem:e}})}const Uo={get:"text-green-500",post:"text-yellow-500",put:"text-blue-500",delete:"text-red-500",default:"text-gray-500"};function tr(e){return re(Uo,kn(e.method.toLowerCase()),bn(()=>Uo.default))}const or={class:"flex flex-col"},lr=["draggable"],nr={key:2,class:"font-semibold truncate text-tiny"},sr={class:"flex items-center flex-1 min-w-0 py-2 pr-2 pointer-events-none transition group-hover:text-secondaryDark"},ar=["title"],ir=i("span",{class:"absolute inline-flex flex-shrink-0 w-full h-full bg-green-500 rounded-full opacity-75 animate-ping"},null,-1),rr=i("span",{class:"relative inline-flex flex-shrink-0 rounded-full h-1.5 w-1.5 bg-green-500"},null,-1),dr=[ir,rr],cr={key:0,class:"flex"},ur=["onKeyup"],yl=te({__name:"Request",props:{request:{type:Object,default:()=>({}),required:!0},requestID:{type:String,default:"",required:!1},parentID:{type:String,default:null,required:!0},collectionsType:{type:String,default:"my-collections",required:!0},duplicateLoading:{type:Boolean,default:!1,required:!1},saveRequest:{type:Boolean,default:!1,required:!1},isActive:{type:Boolean,default:!1,required:!1},hasNoTeamAccess:{type:Boolean,default:!1,required:!1},isSelected:{type:Boolean,default:!1,required:!1},requestMoveLoading:{type:Array,default:()=>[],required:!1},isLastItem:{type:Boolean,default:!1,required:!1}},emits:["edit-request","duplicate-request","remove-request","select-request","drag-request","update-request-order","update-last-request-order"],setup(e,{emit:t}){const o=e,l=oe(),n=I(null),a=I(null),c=I(null),f=I(null),y=I(null),C=I(!1),h=I(!1),R=I(!1),w=Ce(Zt,{type:"collection",id:"",parentID:""}),L=W(()=>tr(o.request));fe(()=>o.duplicateLoading,H=>{H||f.value.tippy.hide()});const A=()=>{t("select-request")},U=({dataTransfer:H})=>{H&&(t("drag-request",H),C.value=!C.value,gl({type:"request",id:o.requestID,parentID:o.parentID}))},X=W(()=>w.value.id===o.requestID),T=W(()=>w.value.type==="collection"),b=W(()=>w.value.parentID===o.parentID),g=W(()=>h.value&&!T.value&&b.value&&!X.value),m=W(()=>R.value&&b.value&&!T.value),p=H=>{C.value=!0,H.offsetY<10?(h.value=!0,C.value=!1,R.value=!1):H.offsetY>18?(R.value=!0,C.value=!1,h.value=!1):(h.value=!1,R.value=!1)},r=H=>{h.value?_(H):R.value?E(H):_(H)},_=H=>{H.dataTransfer&&(H.stopPropagation(),v(),t("update-request-order",H.dataTransfer))},E=H=>{H.dataTransfer&&(H.stopPropagation(),v(),t("update-last-request-order",H.dataTransfer))},q=W(()=>o.requestMoveLoading.length>0&&o.requestID?o.requestMoveLoading.includes(o.requestID):!1),v=()=>{C.value=!1,h.value=!1,R.value=!1};return(H,j)=>{const F=St,S=se,J=Ge,P=Oe("tippy"),V=de("tippy");return x(),M("div",or,[i("div",{class:le(["h-1 w-full transition",[{"bg-accentDark":s(g)}]]),onDrop:_,onDragover:j[0]||(j[0]=be(Y=>h.value=!0,["prevent"])),onDragleave:v,onDragend:v},null,34),i("div",{class:"flex items-stretch group",draggable:!e.hasNoTeamAccess,onDrop:r,onDragstart:U,onDragover:j[6]||(j[6]=Y=>p(Y)),onDragleave:v,onDragend:v,onContextmenu:j[7]||(j[7]=be(Y=>{var ue;return(ue=f.value)==null?void 0:ue.tippy.show()},["prevent"]))},[i("div",{class:"flex items-center justify-center flex-1 min-w-0 cursor-pointer pointer-events-auto",onClick:j[1]||(j[1]=Y=>A())},[i("span",{class:le(["flex items-center justify-center w-16 px-2 truncate pointer-events-none",s(L)])},[e.isSelected?(x(),G(Ye(s(ot)),{key:0,class:le(["svg-icons",{"text-accent":e.isSelected}])},null,8,["class"])):s(q)?(x(),G(F,{key:1})):(x(),M("span",nr,z(e.request.method),1))],2),i("span",sr,[i("span",{class:le(["truncate",{"text-accent":e.isSelected}])},z(e.request.name),3),e.isActive?N((x(),M("span",{key:0,class:"relative h-1.5 w-1.5 flex flex-shrink-0 mx-3",title:`${s(l)("collection.request_in_use")}`},dr,8,ar)),[[V,{theme:"tooltip"}]]):K("",!0)])]),e.hasNoTeamAccess?K("",!0):(x(),M("div",cr,[e.saveRequest?K("",!0):N((x(),G(S,{key:0,icon:s(dl),title:s(l)("action.restore"),class:"hidden group-hover:inline-flex",onClick:j[2]||(j[2]=Y=>A())},null,8,["icon","title"])),[[V,{theme:"tooltip"}]]),i("span",null,[$(P,{ref_key:"options",ref:f,interactive:"",trigger:"click",theme:"popover","on-shown":()=>n.value.focus()},{content:B(({hide:Y})=>[i("div",{ref_key:"tippyActions",ref:n,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:[j[3]||(j[3]=Q(ue=>{var ae;return(ae=a.value)==null?void 0:ae.$el.click()},["e"])),j[4]||(j[4]=Q(ue=>{var ae;return(ae=y.value)==null?void 0:ae.$el.click()},["d"])),j[5]||(j[5]=Q(ue=>{var ae;return(ae=c.value)==null?void 0:ae.$el.click()},["delete"])),Q(ue=>Y(),["escape"])]},[$(J,{ref_key:"edit",ref:a,icon:s(pt),label:s(l)("action.edit"),shortcut:["E"],onClick:()=>{t("edit-request"),Y()}},null,8,["icon","label","onClick"]),$(J,{ref_key:"duplicate",ref:y,icon:s(Xo),label:s(l)("action.duplicate"),loading:e.duplicateLoading,shortcut:["D"],onClick:()=>{t("duplicate-request"),e.collectionsType==="my-collections"&&Y()}},null,8,["icon","label","loading","onClick"]),$(J,{ref_key:"deleteAction",ref:c,icon:s(Ze),label:s(l)("action.delete"),shortcut:["\u232B"],onClick:()=>{t("remove-request"),Y()}},null,8,["icon","label","onClick"])],40,ur)]),default:B(()=>[N($(S,{title:s(l)("action.more"),icon:s(et)},null,8,["title","icon"]),[[V,{theme:"tooltip"}]])]),_:1},8,["on-shown"])])]))],40,lr),i("div",{class:le(["w-full transition",[{"bg-accentDark":s(m),"h-1 ":e.isLastItem}]]),onDrop:r,onDragover:j[8]||(j[8]=be(Y=>R.value=!0,["prevent"])),onDragleave:v,onDragend:v},null,34)])}}}),pr={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fr=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"},null,-1),mr=[fr];function vr(e,t){return x(),M("svg",pr,mr)}const Qe={name:"lucide-folder",render:vr},hr={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},gr=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m6 14l1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"},null,-1),yr=[gr];function qr(e,t){return x(),M("svg",hr,yr)}const eo={name:"lucide-folder-open",render:qr},xr={class:"flex flex-col"},$r={class:"flex flex-col relative"},Cr=["draggable"],br={class:"flex items-center justify-center px-4 pointer-events-none"},kr={class:"flex flex-1 min-w-0 py-2 pr-2 transition pointer-events-none group-hover:text-secondaryDark"},_r={key:0,class:"flex"},Rr=["onKeyup"],ql=te({__name:"Collection",props:{id:{type:String,default:"",required:!0},parentID:{type:String,default:null,required:!1},data:{type:Object,default:()=>({}),required:!0},collectionsType:{type:String,default:"my-collections",required:!0},folderType:{type:String,default:"collection",required:!0},isOpen:{type:Boolean,default:!1,required:!0},isSelected:{type:Boolean,default:!1,required:!1},exportLoading:{type:Boolean,default:!1,required:!1},hasNoTeamAccess:{type:Boolean,default:!1,required:!1},collectionMoveLoading:{type:Array,default:()=>[],required:!1},isLastItem:{type:Boolean,default:!1,required:!1}},emits:["toggle-children","add-request","add-folder","edit-collection","export-data","remove-collection","drop-event","drag-event","dragging","update-collection-order","update-last-collection-order"],setup(e,{emit:t}){const o=e,l=oe(),n=I(null),a=I(null),c=I(null),f=I(null),y=I(null),C=I(null),h=I(null),R=I(!1),w=I(!1),L=I(!1),A=I(""),U=Ce(Zt,{type:"collection",id:"",parentID:""});fe(()=>R.value,P=>{P&&F.value&&b.value?t("dragging",!0):t("dragging",!1)});const X=W(()=>o.isSelected?ot:o.isOpen&&o.isOpen?eo:Qe),T=W(()=>o.data.name?o.data.name:o.data.title);fe(()=>o.exportLoading,P=>{P||h.value.tippy.hide()});const b=W(()=>U.value.parentID!==o.id),g=W(()=>U.value.type==="request"),m=W(()=>U.value.parentID===o.parentID),p=W(()=>w.value&&F.value&&!g.value&&m.value),r=W(()=>L.value&&F.value&&!g.value&&m.value),_=({dataTransfer:P})=>{P&&(t("drag-event",P),A.value=P.getData("collectionIndex"),R.value=!R.value,gl({type:"collection",id:o.id,parentID:o.parentID}))},E=P=>{R.value=!0,P.offsetY<10&&F.value&&!g.value&&m.value?(w.value=!0,R.value=!1,L.value=!1):P.offsetY>18&&F.value&&!g.value&&m.value&&o.isLastItem?(L.value=!0,R.value=!1,w.value=!1):(w.value=!1,L.value=!1)},q=P=>{w.value?H(P):L.value?j(P):b.value?v(P):P.stopPropagation()},v=P=>{P.dataTransfer&&(P.stopPropagation(),t("drop-event",P.dataTransfer),J())},H=P=>{P.dataTransfer&&(P.stopPropagation(),t("update-collection-order",P.dataTransfer),J())},j=P=>{P.dataTransfer&&(P.stopPropagation(),t("update-last-collection-order",P.dataTransfer),J())},F=W(()=>A.value!==o.id),S=W(()=>o.collectionMoveLoading.length>0&&o.data.id?o.collectionMoveLoading.includes(o.data.id):!1),J=()=>{R.value=!1,w.value=!1,L.value=!1};return(P,V)=>{const Y=St,ue=se,ae=Ge,De=Oe("tippy"),lt=de("tippy");return x(),M("div",xr,[i("div",{class:le(["h-1 w-full transition",[{"bg-accentDark":s(p)}]]),onDrop:H,onDragover:V[0]||(V[0]=be(pe=>w.value=!0,["prevent"])),onDragleave:V[1]||(V[1]=pe=>w.value=!1),onDragend:J},null,34),i("div",$r,[i("div",{class:le(["absolute bg-accent opacity-0 pointer-events-none inset-0 z-1 transition",{"opacity-25":R.value&&s(F)&&s(b)}])},null,2),i("div",{class:"flex items-stretch group relative z-3 cursor-pointer pointer-events-auto",draggable:!e.hasNoTeamAccess,onDragstart:_,onDrop:V[10]||(V[10]=pe=>q(pe)),onDragover:V[11]||(V[11]=pe=>E(pe)),onDragleave:J,onDragend:V[12]||(V[12]=()=>{J(),A.value=""}),onContextmenu:V[13]||(V[13]=be(pe=>{var ce;return(ce=h.value)==null?void 0:ce.tippy.show()},["prevent"]))},[i("div",{class:"flex items-center justify-center flex-1 min-w-0",onClick:V[2]||(V[2]=pe=>t("toggle-children"))},[i("span",br,[s(S)?(x(),G(Y,{key:0})):(x(),G(Ye(s(X)),{key:1,class:le(["svg-icons",{"text-accent":e.isSelected}])},null,8,["class"]))]),i("span",kr,[i("span",{class:le(["truncate",{"text-accent":e.isSelected}])},z(s(T)),3)])]),e.hasNoTeamAccess?K("",!0):(x(),M("div",_r,[N($(ue,{icon:s(Xe),title:s(l)("request.new"),class:"hidden group-hover:inline-flex",onClick:V[3]||(V[3]=pe=>t("add-request"))},null,8,["icon","title"]),[[lt,{theme:"tooltip"}]]),N($(ue,{icon:s(Ve),title:s(l)("folder.new"),class:"hidden group-hover:inline-flex",onClick:V[4]||(V[4]=pe=>t("add-folder"))},null,8,["icon","title"]),[[lt,{theme:"tooltip"}]]),i("span",null,[$(De,{ref_key:"options",ref:h,interactive:"",trigger:"click",theme:"popover","on-shown":()=>n.value.focus()},{content:B(({hide:pe})=>[i("div",{ref_key:"tippyActions",ref:n,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:[V[5]||(V[5]=Q(ce=>{var xe;return(xe=a.value)==null?void 0:xe.$el.click()},["r"])),V[6]||(V[6]=Q(ce=>{var xe;return(xe=c.value)==null?void 0:xe.$el.click()},["n"])),V[7]||(V[7]=Q(ce=>{var xe;return(xe=f.value)==null?void 0:xe.$el.click()},["e"])),V[8]||(V[8]=Q(ce=>{var xe;return(xe=y.value)==null?void 0:xe.$el.click()},["delete"])),V[9]||(V[9]=Q(ce=>{var xe;return(xe=C.value)==null?void 0:xe.$el.click()},["x"])),Q(ce=>pe(),["escape"])]},[$(ae,{ref_key:"requestAction",ref:a,icon:s(Xe),label:s(l)("request.new"),shortcut:["R"],onClick:()=>{t("add-request"),pe()}},null,8,["icon","label","onClick"]),$(ae,{ref_key:"folderAction",ref:c,icon:s(Ve),label:s(l)("folder.new"),shortcut:["N"],onClick:()=>{t("add-folder"),pe()}},null,8,["icon","label","onClick"]),$(ae,{ref_key:"edit",ref:f,icon:s(pt),label:s(l)("action.edit"),shortcut:["E"],onClick:()=>{t("edit-collection"),pe()}},null,8,["icon","label","onClick"]),$(ae,{ref_key:"exportAction",ref:C,icon:s(zt),label:s(l)("export.title"),shortcut:["X"],loading:e.exportLoading,onClick:()=>{t("export-data"),e.collectionsType==="my-collections"&&pe()}},null,8,["icon","label","loading","onClick"]),$(ae,{ref_key:"deleteAction",ref:y,icon:s(Ze),label:s(l)("action.delete"),shortcut:["\u232B"],onClick:()=>{t("remove-collection"),pe()}},null,8,["icon","label","onClick"])],40,Rr)]),default:B(()=>[N($(ue,{title:s(l)("action.more"),icon:s(et)},null,8,["title","icon"]),[[lt,{theme:"tooltip"}]])]),_:1},8,["on-shown"])])]))],40,Cr)]),e.isLastItem?(x(),M("div",{key:0,class:le(["w-full transition",[{"bg-accentDark":s(r),"h-1 ":e.isLastItem}]]),onDrop:j,onDragover:V[14]||(V[14]=be(pe=>L.value=!0,["prevent"])),onDragleave:V[15]||(V[15]=pe=>L.value=!1),onDragend:J},null,34)):K("",!0)])}}}),Ir={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},wr=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("rect",{width:"20",height:"5",x:"2",y:"4",rx:"2"}),i("path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9m-10 4h4"})],-1),Sr=[wr];function Er(e,t){return x(),M("svg",Ir,Sr)}const to={name:"lucide-archive",render:Er},Tr={class:"flex flex-col flex-1"},Dr={class:"flex"},Ar={class:"flex flex-col overflow-hidden"},Mr={key:0},Lr=["src","alt"],Pr={class:"pb-4 text-center"},Or=["src","alt"],Fr={class:"pb-4 text-center"},Ur=["src","alt"],Hr={class:"text-center"},Nr=te({__name:"TeamCollections",props:{collectionsType:{type:Object,default:()=>({type:"my-collections",selectedTeam:void 0}),required:!0},teamCollectionList:{type:Array,default:()=>[],required:!0},teamLoadingCollections:{type:Array,default:()=>[],required:!0},saveRequest:{type:Boolean,default:!1,required:!1},exportLoading:{type:Boolean,default:!1,required:!1},duplicateLoading:{type:Boolean,default:!1,required:!1},picked:{type:Object,default:null,required:!1},collectionMoveLoading:{type:Array,default:()=>[],required:!1},requestMoveLoading:{type:Array,default:()=>[],required:!1}},emits:["add-request","add-folder","edit-collection","edit-folder","edit-request","duplicate-request","export-data","remove-collection","remove-folder","remove-request","select-request","drop-request","drop-collection","update-request-order","update-collection-order","select","expand-team-collection","display-modal-add","display-modal-import-export"],setup(e,{emit:t}){const o=e,l=oe(),n=tt(),a=Qo(o,"teamCollectionList"),c=W(()=>o.collectionsType.type==="team-collections"&&(o.collectionsType.selectedTeam===void 0||o.collectionsType.selectedTeam.myRole==="VIEWER")),f=({collectionID:b,folderID:g,requestID:m})=>b!==void 0?o.picked&&o.picked.pickedType==="teams-collection"&&o.picked.collectionID===b:m!==void 0?o.picked&&o.picked.pickedType==="teams-request"&&o.picked.requestID===m:o.picked&&o.picked.pickedType==="teams-folder"&&o.picked.folderID===g,y=W(()=>_e.value.document.saveContext),C=b=>re(y.value,el,Zo(g=>g.originLocation==="team-collection"&&g.requestID===b),Yo),h=b=>{const{request:g,requestIndex:m}=b;o.saveRequest?t("select",{pickedType:"teams-request",requestID:m}):t("select-request",{request:g,requestIndex:m,isActive:C(m)})},R=(b,{folderPath:g,requestIndex:m})=>{!g||(b.setData("folderPath",g),b.setData("requestIndex",m))},w=(b,g)=>{b.setData("collectionIndex",g)},L=(b,g)=>{const m=b.getData("folderPath"),p=b.getData("requestIndex"),r=b.getData("collectionIndex");m&&p?t("drop-request",{folderPath:m,requestIndex:p,destinationCollectionIndex:g}):t("drop-collection",{collectionIndexDragged:r,destinationCollectionIndex:g})},A=(b,{folderPath:g,requestIndex:m})=>{if(!g)return;const p=b.getData("requestIndex");t("update-request-order",{dragedRequestIndex:p,destinationRequestIndex:m,destinationCollectionIndex:g})},U=(b,g)=>{const m=b.getData("collectionIndex");t("update-collection-order",{dragedCollectionIndex:m,destinationCollection:g})};class X{constructor(g){this.data=g}findCollInTree(g,m){for(const p of g){if(p.id===m)return p;if(p.children){const r=this.findCollInTree(p.children,m);if(r)return r}}return null}getChildren(g){return W(()=>{if(g===null){if(o.teamLoadingCollections.includes("root"))return{status:"loading"};{const m=this.data.value.map((p,r)=>({id:p.id,data:{isLastItem:r===this.data.value.length-1,type:"collections",data:{parentIndex:null,data:p}}}));return{status:"loaded",data:Ee(m)}}}else{const m=g.split("/")[g.split("/").length-1];if(!o.teamLoadingCollections.includes(m)&&t("expand-team-collection",m),o.teamLoadingCollections.includes(m))return{status:"loading"};{const p=this.findCollInTree(this.data.value,m);if(p){const r=[...p.children?p.children.map((_,E)=>({id:`${g}/${_.id}`,data:{isLastItem:p.children&&p.children.length>1?E===p.children.length-1:!1,type:"folders",data:{parentIndex:m,data:_}}})):[],...p.requests?p.requests.map((_,E)=>({id:`${g}/${_.id}`,data:{isLastItem:p.requests&&p.requests.length>1?E===p.requests.length-1:!1,type:"requests",data:{parentIndex:m,data:_}}})):[]];return{status:"loaded",data:Ee(r)}}else return{status:"loaded",data:[]}}}})}}const T=new X(a);return(b,g)=>{const m=se,p=ql,r=yl,_=vl,E=de("tippy");return x(),M("div",Tr,[i("div",{class:"sticky z-10 flex justify-between flex-1 border-b bg-primary border-dividerLight",style:Tt(e.saveRequest?"top: calc(var(--upper-primary-sticky-fold) - var(--line-height-body))":"top: var(--upper-primary-sticky-fold)")},[s(c)?N((x(),G(m,{key:0,disabled:"",class:"!rounded-none",icon:s(ut),title:s(l)("team.no_access"),label:s(l)("action.new")},null,8,["icon","title","label"])),[[E,{theme:"tooltip"}]]):(x(),G(m,{key:1,icon:s(ut),label:s(l)("action.new"),class:"!rounded-none",onClick:g[0]||(g[0]=q=>t("display-modal-add"))},null,8,["icon","label"])),i("span",Dr,[N($(m,{to:"https://docs.hoppscotch.io/documentation/features/collections",blank:"",title:s(l)("app.wiki"),icon:s(Et)},null,8,["title","icon"]),[[E,{theme:"tooltip"}]]),e.saveRequest?K("",!0):N((x(),G(m,{key:0,disabled:e.collectionsType.type==="team-collections"&&e.collectionsType.selectedTeam===void 0,icon:s(to),title:s(l)("modal.import_export"),onClick:g[1]||(g[1]=q=>t("display-modal-import-export"))},null,8,["disabled","icon","title"])),[[E,{theme:"tooltip"}]])])],4),i("div",Ar,[$(_,{adapter:s(T)},{content:B(({node:q,toggleChildren:v,isOpen:H,highlightChildren:j})=>[q.data.type==="collections"?(x(),G(p,{key:0,id:q.data.data.data.id,"parent-i-d":q.data.data.parentIndex,data:q.data.data.data,"collections-type":e.collectionsType.type,"is-open":H,"export-loading":e.exportLoading,"has-no-team-access":s(c),"collection-move-loading":e.collectionMoveLoading,"is-last-item":q.data.isLastItem,"is-selected":f({collectionID:q.id}),"folder-type":"collection",onAddRequest:F=>q.data.type==="collections"&&t("add-request",{path:q.id,folder:q.data.data.data}),onAddFolder:F=>q.data.type==="collections"&&t("add-folder",{path:q.id,folder:q.data.data.data}),onEditCollection:F=>q.data.type==="collections"&&t("edit-collection",{collectionIndex:q.id,collection:q.data.data.data}),onExportData:F=>q.data.type==="collections"&&t("export-data",q.data.data.data),onRemoveCollection:F=>t("remove-collection",q.id),onDropEvent:F=>L(F,q.id),onDragEvent:F=>w(F,q.id),onUpdateCollectionOrder:F=>U(F,{destinationCollectionIndex:q.data.data.data.id,destinationCollectionParentIndex:q.data.data.parentIndex}),onUpdateLastCollectionOrder:F=>U(F,{destinationCollectionIndex:null,destinationCollectionParentIndex:q.data.data.parentIndex}),onDragging:F=>j(F?q.data.data.data.id:null),onToggleChildren:()=>{v(),e.saveRequest&&t("select",{pickedType:"teams-collection",collectionID:q.id})}},null,8,["id","parent-i-d","data","collections-type","is-open","export-loading","has-no-team-access","collection-move-loading","is-last-item","is-selected","onAddRequest","onAddFolder","onEditCollection","onExportData","onRemoveCollection","onDropEvent","onDragEvent","onUpdateCollectionOrder","onUpdateLastCollectionOrder","onDragging","onToggleChildren"])):K("",!0),q.data.type==="folders"?(x(),G(p,{key:1,id:q.data.data.data.id,"parent-i-d":q.data.data.parentIndex,data:q.data.data.data,"collections-type":e.collectionsType.type,"is-open":H,"export-loading":e.exportLoading,"has-no-team-access":s(c),"collection-move-loading":e.collectionMoveLoading,"is-last-item":q.data.isLastItem,"is-selected":f({folderID:q.data.data.data.id}),"folder-type":"folder",onAddRequest:F=>q.data.type==="folders"&&t("add-request",{path:q.id,folder:q.data.data.data}),onAddFolder:F=>q.data.type==="folders"&&t("add-folder",{path:q.id,folder:q.data.data.data}),onEditCollection:F=>q.data.type==="folders"&&t("edit-folder",{folder:q.data.data.data}),onExportData:F=>q.data.type==="folders"&&t("export-data",q.data.data.data),onRemoveCollection:F=>q.data.type==="folders"&&t("remove-folder",q.data.data.data.id),onDropEvent:F=>L(F,q.data.data.data.id),onDragEvent:F=>w(F,q.data.data.data.id),onUpdateCollectionOrder:F=>U(F,{destinationCollectionIndex:q.data.data.data.id,destinationCollectionParentIndex:q.data.data.parentIndex}),onUpdateLastCollectionOrder:F=>U(F,{destinationCollectionIndex:null,destinationCollectionParentIndex:q.data.data.parentIndex}),onDragging:F=>j(F?q.data.data.data.id:null),onToggleChildren:()=>{v(),e.saveRequest&&t("select",{pickedType:"teams-folder",folderID:q.data.data.data.id})}},null,8,["id","parent-i-d","data","collections-type","is-open","export-loading","has-no-team-access","collection-move-loading","is-last-item","is-selected","onAddRequest","onAddFolder","onEditCollection","onExportData","onRemoveCollection","onDropEvent","onDragEvent","onUpdateCollectionOrder","onUpdateLastCollectionOrder","onDragging","onToggleChildren"])):K("",!0),q.data.type==="requests"?(x(),G(r,{key:2,request:q.data.data.data.request,"request-i-d":q.data.data.data.id,"parent-i-d":q.data.data.parentIndex,"collections-type":e.collectionsType.type,"duplicate-loading":e.duplicateLoading,"is-active":C(q.data.data.data.id),"has-no-team-access":s(c),"request-move-loading":e.requestMoveLoading,"is-last-item":q.data.isLastItem,"is-selected":f({requestID:q.data.data.data.id}),onEditRequest:F=>q.data.type==="requests"&&t("edit-request",{requestIndex:q.data.data.data.id,request:q.data.data.data.request}),onDuplicateRequest:F=>q.data.type==="requests"&&t("duplicate-request",{folderPath:q.data.data.parentIndex,request:q.data.data.data.request}),onRemoveRequest:F=>q.data.type==="requests"&&t("remove-request",{folderPath:null,requestIndex:q.data.data.data.id}),onSelectRequest:F=>q.data.type==="requests"&&h({request:q.data.data.data.request,requestIndex:q.data.data.data.id}),onDragRequest:F=>R(F,{folderPath:q.data.data.parentIndex,requestIndex:q.data.data.data.id}),onUpdateRequestOrder:F=>A(F,{folderPath:q.data.data.parentIndex,requestIndex:q.data.data.data.id}),onUpdateLastRequestOrder:F=>A(F,{folderPath:q.data.data.parentIndex,requestIndex:null})},null,8,["request","request-i-d","parent-i-d","collections-type","duplicate-loading","is-active","has-no-team-access","request-move-loading","is-last-item","is-selected","onEditRequest","onDuplicateRequest","onRemoveRequest","onSelectRequest","onDragRequest","onUpdateRequestOrder","onUpdateLastRequestOrder"])):K("",!0)]),emptyNode:B(({node:q})=>[q===null?(x(),M("div",Mr,[i("div",{class:"flex flex-col items-center justify-center p-4 text-secondaryLight",onDrop:g[3]||(g[3]=v=>v.stopPropagation())},[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.collection")}`},null,8,Lr),i("span",Pr,z(s(l)("empty.collections")),1),s(c)?N((x(),G(m,{key:0,disabled:"",filled:"",outline:"",title:s(l)("team.no_access"),label:s(l)("action.new")},null,8,["title","label"])),[[E,{theme:"tooltip"}]]):(x(),G(m,{key:1,icon:s(ut),label:s(l)("action.new"),filled:"",outline:"",onClick:g[2]||(g[2]=v=>t("display-modal-add"))},null,8,["icon","label"]))],32)])):q.data.type==="collections"?(x(),M("div",{key:1,class:"flex flex-col items-center justify-center p-4 text-secondaryLight",onDrop:g[4]||(g[4]=v=>v.stopPropagation())},[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.collection")}`},null,8,Or),i("span",Fr,z(s(l)("empty.collections")),1)],32)):q.data.type==="folders"?(x(),M("div",{key:2,class:"flex flex-col items-center justify-center p-4 text-secondaryLight",onDrop:g[5]||(g[5]=v=>v.stopPropagation())},[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.folder")}`},null,8,Ur),i("span",Hr,z(s(l)("empty.folder")),1)],32)):K("",!0)]),_:1},8,["adapter"])])])}}}),Br={class:"flex flex-col flex-1"},jr={class:"flex"},Vr={class:"flex flex-col flex-1"},Gr={key:0,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},zr={class:"my-2 text-center"},Kr={key:1},Jr={class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Wr=["src","alt"],Xr={class:"pb-4 text-center"},Qr={key:2,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Yr=["src","alt"],Zr={class:"pb-4 text-center"},ed={key:3,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},td=["src","alt"],od={class:"text-center"},ld=te({__name:"MyCollections",props:{filteredCollections:{type:Array,default:()=>[],required:!0},collectionsType:{type:Object,default:()=>({type:"my-collections",selectedTeam:void 0}),required:!0},filterText:{type:String,default:"",required:!0},saveRequest:{type:Boolean,default:!1,required:!1},picked:{type:Object,default:null,required:!1}},emits:["display-modal-add","add-request","add-folder","edit-collection","edit-folder","edit-request","duplicate-request","export-data","remove-collection","remove-folder","remove-request","select-request","drop-request","drop-collection","update-request-order","update-collection-order","select","display-modal-import-export"],setup(e,{emit:t}){const o=e,l=oe(),n=tt(),a=Qo(o,"filteredCollections"),c=b=>{const g=b.split("/");return g[g.length-1]},f=({collectionIndex:b,folderPath:g,requestIndex:m})=>b!==void 0?o.picked&&o.picked.pickedType==="my-collection"&&o.picked.collectionIndex===b:m!==void 0&&g!==void 0?o.picked&&o.picked.pickedType==="my-request"&&o.picked.folderPath===g&&o.picked.requestIndex===m:o.picked&&o.picked.pickedType==="my-folder"&&o.picked.folderPath===g,y=W(()=>_e.value.document.saveContext),C=(b,g)=>re(y.value,el,Zo(m=>m.originLocation==="user-collection"&&m.folderPath===b&&m.requestIndex===g),Yo),h=b=>{const{request:g,folderPath:m,requestIndex:p}=b;o.saveRequest?t("select",{pickedType:"my-request",folderPath:m,requestIndex:parseInt(p)}):t("select-request",{request:g,folderPath:m,requestIndex:p,isActive:C(m,parseInt(p))})},R=(b,g)=>{b.setData("collectionIndex",g)},w=(b,{folderPath:g,requestIndex:m})=>{!g||(b.setData("folderPath",g),b.setData("requestIndex",m))},L=(b,g)=>{const m=b.getData("folderPath"),p=b.getData("requestIndex"),r=b.getData("collectionIndex");m&&p?t("drop-request",{folderPath:m,requestIndex:p,destinationCollectionIndex:g}):t("drop-collection",{collectionIndexDragged:r,destinationCollectionIndex:g})},A=(b,{folderPath:g,requestIndex:m})=>{if(!g)return;const p=b.getData("requestIndex");t("update-request-order",{dragedRequestIndex:p,destinationRequestIndex:m,destinationCollectionIndex:g})},U=(b,g)=>{const m=b.getData("collectionIndex");t("update-collection-order",{dragedCollectionIndex:m,destinationCollection:g})};class X{constructor(g){this.data=g}navigateToFolderWithIndexPath(g,m){if(m.length===0)return null;let p=g[m.shift()];for(;m.length>0;)p=p.folders[m.shift()];return p!==void 0?p:null}getChildren(g){return W(()=>{if(g===null)return{status:"loaded",data:this.data.value.map((_,E)=>({id:E.toString(),data:{type:"collections",isLastItem:E===this.data.value.length-1,data:{parentIndex:null,data:_}}}))};const m=g.split("/").map(r=>parseInt(r)),p=this.navigateToFolderWithIndexPath(this.data.value,m);return p?{status:"loaded",data:[...p.folders.map((_,E)=>({id:`${g}/${E}`,data:{isLastItem:p.folders&&p.folders.length>1?E===p.folders.length-1:!1,type:"folders",data:{parentIndex:g,data:_}}})),...p.requests.map((_,E)=>({id:`${g}/${E}`,data:{isLastItem:p.requests&&p.requests.length>1?E===p.requests.length-1:!1,type:"requests",data:{parentIndex:g,data:_}}}))]}:{status:"loaded",data:[]}})}}const T=new X(a);return(b,g)=>{const m=se,p=ql,r=yl,_=Kt,E=vl,q=de("tippy");return x(),M("div",Br,[i("div",{class:"sticky z-10 flex justify-between flex-1 border-b bg-primary border-dividerLight",style:Tt(e.saveRequest?"top: calc(var(--upper-primary-sticky-fold) - var(--line-height-body))":"top: var(--upper-primary-sticky-fold)")},[$(m,{icon:s(ut),label:s(l)("action.new"),class:"!rounded-none",onClick:g[0]||(g[0]=v=>t("display-modal-add"))},null,8,["icon","label"]),i("span",jr,[N($(m,{to:"https://docs.hoppscotch.io/documentation/features/collections",blank:"",title:s(l)("app.wiki"),icon:s(Et)},null,8,["title","icon"]),[[q,{theme:"tooltip"}]]),e.saveRequest?K("",!0):N((x(),G(m,{key:0,icon:s(to),title:s(l)("modal.import_export"),onClick:g[1]||(g[1]=v=>t("display-modal-import-export"))},null,8,["icon","title"])),[[q,{theme:"tooltip"}]])])],4),i("div",Vr,[$(E,{adapter:s(T)},{content:B(({node:v,toggleChildren:H,isOpen:j,highlightChildren:F})=>[v.data.type==="collections"?(x(),G(p,{key:0,id:v.id,"parent-i-d":v.data.data.parentIndex,data:v.data.data.data,"collections-type":e.collectionsType.type,"is-open":j,"is-last-item":v.data.isLastItem,"is-selected":f({collectionIndex:parseInt(v.id)}),"folder-type":"collection",onAddRequest:S=>v.data.type==="collections"&&t("add-request",{path:v.id,folder:v.data.data.data}),onAddFolder:S=>v.data.type==="collections"&&t("add-folder",{path:v.id,folder:v.data.data.data}),onEditCollection:S=>v.data.type==="collections"&&t("edit-collection",{collectionIndex:v.id,collection:v.data.data.data}),onExportData:S=>v.data.type==="collections"&&t("export-data",v.data.data.data),onRemoveCollection:S=>t("remove-collection",v.id),onDropEvent:S=>L(S,v.id),onDragEvent:S=>R(S,v.id),onUpdateCollectionOrder:S=>U(S,{destinationCollectionIndex:v.id,destinationCollectionParentIndex:v.data.data.parentIndex}),onUpdateLastCollectionOrder:S=>U(S,{destinationCollectionIndex:null,destinationCollectionParentIndex:v.data.data.parentIndex}),onDragging:S=>F(S?v.id:null),onToggleChildren:()=>{H(),e.saveRequest&&t("select",{pickedType:"my-collection",collectionIndex:parseInt(v.id)})}},null,8,["id","parent-i-d","data","collections-type","is-open","is-last-item","is-selected","onAddRequest","onAddFolder","onEditCollection","onExportData","onRemoveCollection","onDropEvent","onDragEvent","onUpdateCollectionOrder","onUpdateLastCollectionOrder","onDragging","onToggleChildren"])):K("",!0),v.data.type==="folders"?(x(),G(p,{key:1,id:v.id,"parent-i-d":v.data.data.parentIndex,data:v.data.data.data,"collections-type":e.collectionsType.type,"is-open":j,"is-last-item":v.data.isLastItem,"is-selected":f({folderPath:v.id}),"folder-type":"folder",onAddRequest:S=>v.data.type==="folders"&&t("add-request",{path:v.id,folder:v.data.data.data}),onAddFolder:S=>v.data.type==="folders"&&t("add-folder",{path:v.id,folder:v.data.data.data}),onEditCollection:S=>v.data.type==="folders"&&t("edit-folder",{folderPath:v.id,folder:v.data.data.data}),onExportData:S=>v.data.type==="folders"&&t("export-data",v.data.data.data),onRemoveCollection:S=>t("remove-folder",v.id),onDropEvent:S=>L(S,v.id),onDragEvent:S=>R(S,v.id),onUpdateCollectionOrder:S=>U(S,{destinationCollectionIndex:v.id,destinationCollectionParentIndex:v.data.data.parentIndex}),onUpdateLastCollectionOrder:S=>U(S,{destinationCollectionIndex:null,destinationCollectionParentIndex:v.data.data.parentIndex}),onDragging:S=>F(S?v.id:null),onToggleChildren:()=>{H(),e.saveRequest&&t("select",{pickedType:"my-folder",folderPath:v.id})}},null,8,["id","parent-i-d","data","collections-type","is-open","is-last-item","is-selected","onAddRequest","onAddFolder","onEditCollection","onExportData","onRemoveCollection","onDropEvent","onDragEvent","onUpdateCollectionOrder","onUpdateLastCollectionOrder","onDragging","onToggleChildren"])):K("",!0),v.data.type==="requests"?(x(),G(r,{key:2,request:v.data.data.data,"request-i-d":v.id,"parent-i-d":v.data.data.parentIndex,"collections-type":e.collectionsType.type,"save-request":e.saveRequest,"is-last-item":v.data.isLastItem,"is-active":C(v.data.data.parentIndex,parseInt(c(v.id))),"is-selected":f({folderPath:v.data.data.parentIndex,requestIndex:parseInt(c(v.id))}),onEditRequest:S=>v.data.type==="requests"&&t("edit-request",{folderPath:v.data.data.parentIndex,requestIndex:c(v.id),request:v.data.data.data}),onDuplicateRequest:S=>v.data.type==="requests"&&t("duplicate-request",{folderPath:v.data.data.parentIndex,request:v.data.data.data}),onRemoveRequest:S=>v.data.type==="requests"&&t("remove-request",{folderPath:v.data.data.parentIndex,requestIndex:c(v.id)}),onSelectRequest:S=>v.data.type==="requests"&&h({request:v.data.data.data,folderPath:v.data.data.parentIndex,requestIndex:c(v.id)}),onDragRequest:S=>w(S,{folderPath:v.data.data.parentIndex,requestIndex:v.id}),onUpdateRequestOrder:S=>A(S,{folderPath:v.data.data.parentIndex,requestIndex:v.id}),onUpdateLastRequestOrder:S=>A(S,{folderPath:v.data.data.parentIndex,requestIndex:null})},null,8,["request","request-i-d","parent-i-d","collections-type","save-request","is-last-item","is-active","is-selected","onEditRequest","onDuplicateRequest","onRemoveRequest","onSelectRequest","onDragRequest","onUpdateRequestOrder","onUpdateLastRequestOrder"])):K("",!0)]),emptyNode:B(({node:v})=>[e.filterText.length!==0&&e.filteredCollections.length===0?(x(),M("div",Gr,[$(_,{class:"pb-2 opacity-75 svg-icons"}),i("span",zr,z(s(l)("state.nothing_found"))+' "'+z(e.filterText)+'" ',1)])):v===null?(x(),M("div",Kr,[i("div",Jr,[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.collections")}`},null,8,Wr),i("span",Xr,z(s(l)("empty.collections")),1),$(m,{label:s(l)("add.new"),filled:"",outline:"",onClick:g[2]||(g[2]=H=>t("display-modal-add"))},null,8,["label"])])])):v.data.type==="collections"?(x(),M("div",Qr,[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.collection")}`},null,8,Yr),i("span",Zr,z(s(l)("empty.collection")),1),$(m,{label:s(l)("add.new"),filled:"",outline:"",onClick:H=>v.data.type==="collections"&&t("add-folder",{path:v.id,folder:v.data.data.data})},null,8,["label","onClick"])])):v.data.type==="folders"?(x(),M("div",ed,[i("img",{src:`/images/states/${s(n).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(l)("empty.folder")}`},null,8,td),i("span",od,z(s(l)("empty.folder")),1)])):K("",!0)]),_:1},8,["adapter"])])])}}}),nd={class:"flex items-center px-4 py-2 overflow-x-auto border-b whitespace-nowrap border-dividerLight text-tiny text-secondaryLight"},sd={class:"truncate"},xl=te({__name:"Current",props:{section:null},setup(e){const t=oe(),o=Ce(tl,{type:"personal"}),l=W(()=>o.value.type==="team"&&o.value.teamName?o.value.teamName:`${t("workspace.team")}`);return(n,a)=>{const c=ol;return x(),M("div",nd,[i("span",sd,z(s(o).type==="personal"?s(t)("workspace.personal"):s(l)),1),e.section?(x(),G(c,{key:0,class:"mx-2"})):K("",!0),_n(" "+z(e.section),1)])}}}),Ut=10;function It(e,t,o){for(const l of e){if(l.id===t)return o||null;if(l.children){const n=It(l.children,t,l);if(n)return n}}return null}function Pe(e,t){for(const o of e){if(o.id===t)return o;if(o.children){const l=Pe(o.children,t);if(l)return l}}return null}function ad(e,t){const o=It(e,t);o&&o.children&&(o.children=o.children.filter(n=>n.id!==t));const l=Pe(e,t);!l||Fa(e,l)}function id(e,t){const o=Pe(e,t.id);!o||Object.assign(o,t)}function $l(e,t){for(const o of e){if(o.requests){const l=o.requests.find(n=>n.id===t);if(l)return l}if(o.children){const l=$l(o.children,t);if(l)return l}}return null}function Cl(e,t){for(const o of e){if(o.requests&&o.requests.find(l=>l.id===t))return o;if(o.children){const l=Cl(o.children,t);if(l)return l}}return null}class rd{constructor(t){ie(this,"collections$");ie(this,"loadingCollections$");ie(this,"entityIDs");ie(this,"teamCollectionAdded$");ie(this,"teamCollectionUpdated$");ie(this,"teamCollectionRemoved$");ie(this,"teamRequestAdded$");ie(this,"teamRequestUpdated$");ie(this,"teamRequestDeleted$");ie(this,"teamRequestMoved$");ie(this,"teamCollectionMoved$");ie(this,"teamRequestOrderUpdated$");ie(this,"teamCollectionOrderUpdated$");ie(this,"teamCollectionAddedSub");ie(this,"teamCollectionUpdatedSub");ie(this,"teamCollectionRemovedSub");ie(this,"teamRequestAddedSub");ie(this,"teamRequestUpdatedSub");ie(this,"teamRequestDeletedSub");ie(this,"teamRequestMovedSub");ie(this,"teamCollectionMovedSub");ie(this,"teamRequestOrderUpdatedSub");ie(this,"teamCollectionOrderUpdatedSub");ie(this,"reorderItems",(t,o,l)=>{const n=t.splice(o,1)[0];o<l?t.splice(l-1,0,n):t.splice(l,0,n)});ie(this,"updateCollectionOrder",(t,o)=>{const l=this.collections$.value;if(o===null){const n=It(l,t);if(n&&n.children){const a=n.children.findIndex(c=>c.id===t);n.children.push(n.children.splice(a,1)[0])}else{const a=l.findIndex(c=>c.id===t);if(a===-1)return;l.push(l.splice(a,1)[0])}}else{const n=It(l,o);if(n&&n.children){const a=n.children.findIndex(f=>f.id===t),c=n.children.findIndex(f=>f.id===o);if(a===-1)return;this.reorderItems(n.children,a,c)}else{const a=l.findIndex(f=>f.id===t),c=l.findIndex(f=>f.id===o);if(a===-1)return;this.reorderItems(l,a,c)}}this.collections$.next(l)});this.teamID=t,this.collections$=new Do([]),this.loadingCollections$=new Do([]),this.entityIDs=new Set,this.teamCollectionAdded$=null,this.teamCollectionUpdated$=null,this.teamCollectionRemoved$=null,this.teamRequestAdded$=null,this.teamRequestDeleted$=null,this.teamRequestUpdated$=null,this.teamRequestMoved$=null,this.teamCollectionMoved$=null,this.teamRequestOrderUpdated$=null,this.teamCollectionOrderUpdated$=null,this.teamCollectionAddedSub=null,this.teamCollectionUpdatedSub=null,this.teamCollectionRemovedSub=null,this.teamRequestAddedSub=null,this.teamRequestDeletedSub=null,this.teamRequestUpdatedSub=null,this.teamRequestMovedSub=null,this.teamCollectionMovedSub=null,this.teamRequestOrderUpdatedSub=null,this.teamCollectionOrderUpdatedSub=null,this.teamID&&this.initialize()}changeTeamID(t){this.teamID=t,this.collections$.next([]),this.entityIDs.clear(),this.loadingCollections$.next([]),this.unsubscribeSubscriptions(),this.teamID&&this.initialize()}unsubscribeSubscriptions(){var t,o,l,n,a,c,f,y,C,h,R,w,L,A,U,X,T,b,g,m;(t=this.teamCollectionAdded$)==null||t.unsubscribe(),(o=this.teamCollectionUpdated$)==null||o.unsubscribe(),(l=this.teamCollectionRemoved$)==null||l.unsubscribe(),(n=this.teamRequestAdded$)==null||n.unsubscribe(),(a=this.teamRequestDeleted$)==null||a.unsubscribe(),(c=this.teamRequestUpdated$)==null||c.unsubscribe(),(f=this.teamRequestMoved$)==null||f.unsubscribe(),(y=this.teamCollectionMoved$)==null||y.unsubscribe(),(C=this.teamRequestOrderUpdated$)==null||C.unsubscribe(),(h=this.teamCollectionOrderUpdated$)==null||h.unsubscribe(),(R=this.teamCollectionAddedSub)==null||R.unsubscribe(),(w=this.teamCollectionUpdatedSub)==null||w.unsubscribe(),(L=this.teamCollectionRemovedSub)==null||L.unsubscribe(),(A=this.teamRequestAddedSub)==null||A.unsubscribe(),(U=this.teamRequestDeletedSub)==null||U.unsubscribe(),(X=this.teamRequestUpdatedSub)==null||X.unsubscribe(),(T=this.teamRequestMovedSub)==null||T.unsubscribe(),(b=this.teamCollectionMovedSub)==null||b.unsubscribe(),(g=this.teamRequestOrderUpdatedSub)==null||g.unsubscribe(),(m=this.teamCollectionOrderUpdatedSub)==null||m.unsubscribe()}async initialize(){await this.loadRootCollections(),this.registerSubscriptions()}addCollection(t,o){if(this.entityIDs.has(`collection-${t.id}`))return;const l=this.collections$.value;if(!o)l.push(t);else{const n=Pe(l,o);if(!n)return;n.children!=null?n.children.push(t):n.children=[t]}this.entityIDs.add(`collection-${t.id}`),this.collections$.next(l)}async loadRootCollections(){if(this.teamID===null)throw new Error("Team ID is null");this.loadingCollections$.next([...this.loadingCollections$.getValue(),"root"]);const t=[];for(;;){const o=await bt({query:Rn,variables:{teamID:this.teamID,cursor:t.length>0?t[t.length-1].id:void 0}});if(we(o))throw this.loadingCollections$.next(this.loadingCollections$.getValue().filter(l=>l!=="root")),new Error(`Error fetching root collections: ${o.left.error}`);if(t.push(...o.right.rootCollectionsOfTeam.map(l=>({...l,children:null,requests:null}))),o.right.rootCollectionsOfTeam.length!==Ut)break}this.loadingCollections$.next(this.loadingCollections$.getValue().filter(o=>o!=="root")),t.forEach(o=>this.entityIDs.add(`collection-${o.id}`)),this.collections$.next(t)}updateCollection(t){const o=this.collections$.value;id(o,t),this.collections$.next(o)}removeCollection(t){const o=this.collections$.value;ad(o,t),this.entityIDs.delete(`collection-${t}`),this.collections$.next(o)}addRequest(t){if(this.entityIDs.has(`request-${t.id}`))return;const o=this.collections$.value,l=Pe(o,t.collectionID);!l||!l.requests||(l.requests.push(t),this.entityIDs.add(`request-${t.id}`),this.collections$.next(o))}updateRequest(t){const o=this.collections$.value,l=$l(o,t.id);!l||(Object.assign(l,t),this.collections$.next(o))}removeRequest(t){const o=this.collections$.value,l=Cl(o,t);!l||!l.requests||(Ba(l.requests,n=>n.id===t),this.entityIDs.delete(`request-${t}`),this.collections$.next(o))}async moveRequest(t){const o=this.collections$.value;this.removeRequest(t.id);const l=t.request;if(l==null)return;const n=Pe(o,t.collectionID);!n||!n.requests||this.addRequest({id:t.id,collectionID:t.collectionID,request:Lt(t.request),title:t.title})}async moveCollection(t,o,l){this.removeCollection(t),!(t===null||o===void 0)&&(o&&this.expandCollection(o),this.addCollection({id:t,children:null,requests:null,title:l},o!=null?o:null))}updateRequestOrder(t,o,l){const n=this.collections$.value;if(o===null){const a=Pe(n,l);if(!a||!a.requests)return;const c=a.requests.findIndex(f=>f.id===t);if(c===-1)return;a.requests.push(a.requests.splice(c,1)[0])}else{const a=Pe(n,l);if(!a||!a.requests)return;const c=a.requests.findIndex(y=>y.id===t),f=a.requests.findIndex(y=>y.id===o);if(c===-1)return;this.reorderItems(a.requests,c,f)}this.collections$.next(n)}registerSubscriptions(){if(!this.teamID)return;const[t,o]=Ae({query:In,variables:{teamID:this.teamID}});this.teamCollectionAddedSub=o,this.teamCollectionAdded$=t.subscribe(p=>{var r,_;if(we(p))throw new Error(`Team Collection Added Error: ${JSON.stringify(p.left)}`);this.addCollection({id:p.right.teamCollectionAdded.id,children:null,requests:null,title:p.right.teamCollectionAdded.title},(_=(r=p.right.teamCollectionAdded.parent)==null?void 0:r.id)!=null?_:null)});const[l,n]=Ae({query:wn,variables:{teamID:this.teamID}});this.teamCollectionUpdatedSub=n,this.teamCollectionUpdated$=l.subscribe(p=>{if(we(p))throw new Error(`Team Collection Updated Error: ${JSON.stringify(p.left)}`);this.updateCollection({id:p.right.teamCollectionUpdated.id,title:p.right.teamCollectionUpdated.title})});const[a,c]=Ae({query:Sn,variables:{teamID:this.teamID}});this.teamCollectionRemovedSub=c,this.teamCollectionRemoved$=a.subscribe(p=>{if(we(p))throw new Error(`Team Collection Removed Error: ${JSON.stringify(p.left)}`);this.removeCollection(p.right.teamCollectionRemoved)});const[f,y]=Ae({query:En,variables:{teamID:this.teamID}});this.teamRequestAddedSub=y,this.teamRequestAdded$=f.subscribe(p=>{if(we(p))throw new Error(`Team Request Added Error: ${JSON.stringify(p.left)}`);this.addRequest({id:p.right.teamRequestAdded.id,collectionID:p.right.teamRequestAdded.collectionID,request:Lt(JSON.parse(p.right.teamRequestAdded.request)),title:p.right.teamRequestAdded.title})});const[C,h]=Ae({query:Tn,variables:{teamID:this.teamID}});this.teamRequestUpdatedSub=h,this.teamRequestUpdated$=C.subscribe(p=>{if(we(p))throw new Error(`Team Request Updated Error: ${JSON.stringify(p.left)}`);this.updateRequest({id:p.right.teamRequestUpdated.id,collectionID:p.right.teamRequestUpdated.collectionID,request:JSON.parse(p.right.teamRequestUpdated.request),title:p.right.teamRequestUpdated.title})});const[R,w]=Ae({query:Dn,variables:{teamID:this.teamID}});this.teamRequestDeletedSub=w,this.teamRequestDeleted$=R.subscribe(p=>{if(we(p))throw new Error(`Team Request Deleted Error ${JSON.stringify(p.left)}`);this.removeRequest(p.right.teamRequestDeleted)});const[L,A]=Ae({query:An,variables:{teamID:this.teamID}});this.teamRequestMovedSub=A,this.teamRequestMoved$=L.subscribe(p=>{if(we(p))throw new Error(`Team Request Move Error ${JSON.stringify(p.left)}`);const{requestMoved:r}=p.right,_={id:r.id,collectionID:r.collectionID,title:r.title,request:JSON.parse(r.request)};this.moveRequest(_)});const[U,X]=Ae({query:Mn,variables:{teamID:this.teamID}});this.teamCollectionMovedSub=X,this.teamCollectionMoved$=U.subscribe(p=>{var H;if(we(p))throw new Error(`Team Collection Move Error ${JSON.stringify(p.left)}`);const{teamCollectionMoved:r}=p.right,{id:_,parent:E,title:q}=r,v=(H=E==null?void 0:E.id)!=null?H:null;this.moveCollection(_,v,q)});const[T,b]=Ae({query:Ln,variables:{teamID:this.teamID}});this.teamRequestOrderUpdatedSub=b,this.teamRequestOrderUpdated$=T.subscribe(p=>{if(we(p))throw new Error(`Team Request Order Update Error ${JSON.stringify(p.left)}`);const{requestOrderUpdated:r}=p.right,{request:_}=r,{nextRequest:E}=r;this.updateRequestOrder(_.id,E?E.id:null,E?E.collectionID:_.collectionID)});const[g,m]=Ae({query:Pn,variables:{teamID:this.teamID}});this.teamCollectionOrderUpdatedSub=m,this.teamCollectionOrderUpdated$=g.subscribe(p=>{if(we(p))throw new Error(`Team Collection Order Update Error ${JSON.stringify(p.left)}`);const{collectionOrderUpdated:r}=p.right,{collection:_}=r,{nextCollection:E}=r;this.updateCollectionOrder(_.id,E?E.id:null)})}async expandCollection(t){const o=this.collections$.value,l=Pe(o,t);if(!l||l.children!=null)return;const n=[];for(this.loadingCollections$.next([...this.loadingCollections$.getValue(),t]);;){const c=await bt({query:On,variables:{collectionID:t,cursor:n.length>0?n[n.length-1].id:void 0}});if(we(c))throw this.loadingCollections$.next(this.loadingCollections$.getValue().filter(f=>f!==t)),new Error(`Child Collection Fetch Error for ${t}: ${c.left}`);if(n.push(...c.right.collection.children.map(f=>({id:f.id,title:f.title,children:null,requests:null}))),c.right.collection.children.length!==Ut)break}const a=[];for(;;){const c=await bt({query:Fn,variables:{collectionID:t,cursor:a.length>0?a[a.length-1].id:void 0}});if(we(c))throw this.loadingCollections$.next(this.loadingCollections$.getValue().filter(f=>f!==t)),new Error(`Child Request Fetch Error for ${c}: ${c.left}`);if(a.push(...c.right.requestsInCollection.map(f=>({id:f.id,collectionID:t,title:f.title,request:Lt(JSON.parse(f.request))}))),c.right.requestsInCollection.length!==Ut)break}l.children=n,l.requests=a,n.forEach(c=>this.entityIDs.add(`collection-${c.id}`)),a.forEach(c=>this.entityIDs.add(`request-${c.id}`)),this.loadingCollections$.next(this.loadingCollections$.getValue().filter(c=>c!==t)),this.collections$.next(o)}}const dd=(e,t)=>Te(Un,{title:e,teamID:t}),cd=(e,t)=>Te(Hn,{childTitle:e,collectionID:t}),Ho=(e,t)=>Te(Nn,{collectionID:e,newTitle:t}),ud=e=>Te(Gn,{collectionID:e}),No=(e,t)=>Te(Bn,{collectionID:e,parentCollectionID:t}),pd=(e,t)=>Te(jn,{collectionID:e,destCollID:t}),fd=(e,t)=>Te(Vn,{jsonString:e,teamID:t}),Vt=(e,t)=>Te(zn,{collectionID:e,data:t}),bl=(e,t)=>Te(Kn,{requestID:e,data:t}),md=e=>Te(Xn,{requestID:e}),vd=(e,t)=>Te(Jn,{collectionID:e,requestID:t}),hd=(e,t,o)=>Te(Wn,{requestID:e,nextRequestID:t,collectionID:o}),gd=(e,t)=>Qn(async()=>Bt.post("https://api.github.com/gists",{files:{"hoppscotch-collections.json":{content:e}}},{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}}),o=>o);function Ct(e,t="remove"){var C,h;const{lastIndex:o,folderPath:l,length:n}=e;let{newIndex:a}=e;if(a>o&&a--,o===a)return;const c=Yn(o,a===-1?n:a);a===-1&&(c.delete(o),t==="remove"&&qd(l?`${l}/${o}`:o.toString()));const f=new Map;for(const[R,w]of c)l?f.set(`${l}/${R}`,`${l}/${w}`):f.set(R.toString(),w.toString());const y=Dt(R=>{var w;return((w=R.document.saveContext)==null?void 0:w.originLocation)==="user-collection"&&f.has(R.document.saveContext.folderPath)});for(const R of y)if(((C=R.value.document.saveContext)==null?void 0:C.originLocation)==="user-collection"){const w=f.get((h=R.value.document.saveContext)==null?void 0:h.folderPath);R.value.document.saveContext.folderPath=w}}function yd(e,t){var l;const o=Dt(n=>{var a;return((a=n.document.saveContext)==null?void 0:a.originLocation)==="user-collection"&&n.document.saveContext.folderPath.startsWith(e)});for(const n of o)((l=n.value.document.saveContext)==null?void 0:l.originLocation)==="user-collection"&&(n.value.document.saveContext={...n.value.document.saveContext,folderPath:n.value.document.saveContext.folderPath.replace(e,t)})}function qd(e){const t=Dt(o=>{var l;return((l=o.document.saveContext)==null?void 0:l.originLocation)==="user-collection"&&o.document.saveContext.folderPath.startsWith(e)});for(const o of t)o.value.document.saveContext=null,o.value.document.isDirty=!0}async function Bo(){var t,o;const e=Dt(l=>{var n;return((n=l.document.saveContext)==null?void 0:n.originLocation)==="team-collection"});for(const l of e)if(((t=l.value.document.saveContext)==null?void 0:t.originLocation)==="team-collection"){const n=await bt({query:Zn,variables:{requestID:(o=l.value.document.saveContext)==null?void 0:o.requestID}});es(n)&&n.right.request===null&&(l.value.document.saveContext=null,l.value.document.isDirty=!0)}}function Ht(e,t){if(!t)return e;const o=t.split("/").map(n=>parseInt(n));let l=e[o[0]];if(o.length===1)return l.folders;for(let n=1;n<o.length;n++){const a=l.folders[o[n]];a&&(l=a)}return l.folders}const xd=["onDrop"],$d=["placeholder","disabled"],Cd=te({__name:"index",props:{saveRequest:{type:Boolean,default:!1,required:!1},picked:{type:Object,default:null,required:!1}},emits:["select","update-team","update-collection-type"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=I({type:"my-collections",selectedTeam:void 0}),c=I(null),f=I(null),y=I(null),C=I(null),h=I(null),R=I(null),w=I(null),L=I(null),A=I(""),U=I(null),X=I(null),T=I(null),b=I(""),g=Ce(ee.auth.getCurrentUserStream(),ee.auth.getCurrentUser()),m=Ce(Jo,[],"deep"),p=I(!1),r=I([]),_=I([]),E=I(""),q=I(!1),v=I(!1),H=I(!1),j=new ts(!0),F=Ce(j.teamList$,null),S=os("REMEMBERED_TEAM_ID"),J=I(!1),P=new rd(null),V=Ce(P.collections$,[]),Y=Ce(P.loadingCollections$,[]);fe(()=>F.value,u=>{if(u&&!J.value&&(J.value=!0,S.value&&g.value)){const d=u.find(k=>k.id===S.value);d&&De(d)}}),fe(()=>a.value.selectedTeam,u=>{u&&P.changeTeamID(u.id)});const ue=()=>{a.value.type="my-collections",a.value.selectedTeam=void 0,P.changeTeamID(null)},ae=u=>{P.expandCollection(u)},De=u=>{u&&(a.value.type="team-collections",a.value.selectedTeam=u,S.value=u.id,t("update-team",u),t("update-collection-type","team-collections"))};ls(()=>{!j.isInitialized&&j.initialize()});const lt=Ce(tl,{type:"personal"});fe(()=>lt.value.teamID,u=>{var d;if(!u)ue();else if(u){const k=(d=F.value)==null?void 0:d.find(D=>D.id===u);k&&De(k)}}),fe(()=>g.value,u=>{u||ue()});const pe=Ce(Zt,{type:"collection",id:"",parentID:""}),ce=W(()=>a.value.selectedTeam?a.value.type==="team-collections"&&a.value.selectedTeam.myRole!=="VIEWER":!1),xe=W(()=>{const u=a.value.type==="my-collections"?m.value:[];if(b.value==="")return u;if(a.value.type==="team-collections")return[];const d=b.value.toLowerCase(),k=[],D=O=>O.toLowerCase().includes(d);for(const O of u){const ne=[],$e=[];for(const ve of O.requests)D(ve.name)&&ne.push(ve);for(const ve of O.folders){D(ve.name)&&$e.push(ve);const at=[];for(const Ne of ve.requests)D(Ne.name)&&at.push(Ne);if(at.length>0){const Ne=Object.assign({},ve);Ne.requests=at,$e.push(Ne)}}if(ne.length+$e.length>0||D(O.name)){const ve=Object.assign({},O);ve.requests=ne,ve.folders=$e,k.push(ve)}}return k}),ze=({collectionIndex:u,folderPath:d,requestIndex:k,collectionID:D,folderID:O,requestID:ne})=>{if(u!==void 0)return o.picked&&o.picked.pickedType==="my-collection"&&o.picked.collectionIndex===u;if(k!==void 0&&d!==void 0)return o.picked&&o.picked.pickedType==="my-request"&&o.picked.folderPath===d&&o.picked.requestIndex===k;if(d!==void 0)return o.picked&&o.picked.pickedType==="my-folder"&&o.picked.folderPath===d;if(D!==void 0)return o.picked&&o.picked.pickedType==="teams-collection"&&o.picked.collectionID===D;if(ne!==void 0)return o.picked&&o.picked.pickedType==="teams-request"&&o.picked.requestID===ne;if(O!==void 0)return o.picked&&o.picked.pickedType==="teams-folder"&&o.picked.folderID===O},Z=I(!1),vt=I(!1),ht=I(!1),oo=I(!1),lo=I(!1),no=I(!1),so=I(!1),ao=I(!1),io=I(!1),ro=I(!1),At=I(!1),co=I(!1),nt=u=>{oo.value=u,u||Fe()},st=u=>{lo.value=u,u||Fe()},gt=u=>{no.value=u,u||Fe()},yt=u=>{so.value=u,u||Fe()},qt=u=>{ao.value=u,u||Fe()},xt=u=>{io.value=u,u||Fe()},$t=u=>{ro.value=u,u||Fe()},Me=u=>{At.value=u,u||Fe()},wl=u=>{co.value=u,j.fetchList()},Sl=u=>{var d,k;if(a.value.type==="my-collections")ns(ll({name:u,folders:[],requests:[]})),(d=ee.analytics)==null||d.logEvent({type:"HOPP_CREATE_COLLECTION",platform:"rest",workspaceType:"personal",isRootCollection:!0}),nt(!1);else if(ce.value){if(!a.value.selectedTeam)return;Z.value=!0,(k=ee.analytics)==null||k.logEvent({type:"HOPP_CREATE_COLLECTION",platform:"rest",workspaceType:"team",isRootCollection:!0}),re(dd(u,a.value.selectedTeam.id),he(D=>{n.error(`${ye(D)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("collection.created")),nt(!1)}))()}},uo=u=>{const{path:d,folder:k}=u;h.value=k,w.value=d,st(!0)},El=u=>{var k,D;const d={...Ee(_e.value.document.request),name:u};if(a.value.type==="my-collections"){const O=w.value;if(!O)return;const ne=_t(O,d);ct({request:d,isDirty:!1,saveContext:{originLocation:"user-collection",folderPath:O,requestIndex:ne}}),(k=ee.analytics)==null||k.logEvent({type:"HOPP_SAVE_REQUEST",workspaceType:"personal",createdNow:!0,platform:"rest"}),st(!1)}else if(ce.value){const O=h.value;if(!O||!a.value.selectedTeam||!O.id)return;Z.value=!0;const ne={request:JSON.stringify(d),teamID:a.value.selectedTeam.id,title:u};(D=ee.analytics)==null||D.logEvent({type:"HOPP_SAVE_REQUEST",workspaceType:"team",platform:"rest",createdNow:!0}),re(Vt(O.id,ne),he($e=>{n.error(`${ye($e)}`),Z.value=!1},$e=>{const{createRequestInCollection:ve}=$e;ct({request:d,isDirty:!1,saveContext:{originLocation:"team-collection",requestID:ve.id,collectionID:ve.collection.id,teamID:ve.collection.team.id}}),Z.value=!1,st(!1)}))()}},po=u=>{const{path:d,folder:k}=u;h.value=k,w.value=d,gt(!0)},Tl=u=>{var k,D;const d=w.value;if(a.value.type==="my-collections"){if(!d)return;ss(u,d),(k=ee.analytics)==null||k.logEvent({type:"HOPP_CREATE_COLLECTION",workspaceType:"personal",isRootCollection:!1,platform:"rest"}),gt(!1)}else if(ce.value){const O=h.value;if(!O||!O.id)return;Z.value=!0,(D=ee.analytics)==null||D.logEvent({type:"HOPP_CREATE_COLLECTION",workspaceType:"personal",isRootCollection:!1,platform:"rest"}),re(cd(u,O.id),he(ne=>{ne.error==="team_coll/short_title"?n.error(l("folder.name_length_insufficient")):n.error(`${ye(ne)}`),Z.value=!1},()=>{n.success(l("folder.created")),Z.value=!1,gt(!1)}))()}},fo=u=>{const{collectionIndex:d,collection:k}=u;c.value=k,a.value.type==="my-collections"?(y.value=parseInt(d),f.value=k.name):f.value=k.title,yt(!0)},Dl=u=>{if(!!c.value){if(!u){n.error(l("collection.invalid_name"));return}if(a.value.type==="my-collections"){const d=y.value;if(d===null)return;const k={...c.value,name:u};as(d,k),yt(!1)}else if(ce.value){if(!c.value.id)return;Z.value=!0,re(Ho(c.value.id,u),he(d=>{n.error(`${ye(d)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("collection.renamed")),yt(!1)}))()}}},mo=u=>{const{folderPath:d,folder:k}=u;h.value=k,a.value.type==="my-collections"&&d?(w.value=d,R.value=k.name):R.value=k.title,qt(!0)},Al=u=>{if(!!h.value){if(a.value.type==="my-collections"){if(!w.value)return;is(w.value,{...h.value,name:u}),qt(!1)}else if(ce.value){if(!h.value.id)return;Z.value=!0,re(Ho(h.value.id,u),he(d=>{d.error==="team_coll/short_title"?n.error(l("folder.name_length_insufficient")):n.error(`${ye(d)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("folder.renamed")),qt(!1)}))()}}},vo=u=>{var O;const{folderPath:d,requestIndex:k,request:D}=u;L.value=D,A.value=(O=D.name)!=null?O:"",a.value.type==="my-collections"&&d?(w.value=d,U.value=parseInt(k)):X.value=k,xt(!0)},Ml=u=>{const d=L.value;if(!d)return;const k={...d,name:u||d.name};if(a.value.type==="my-collections"){const D=w.value,O=U.value;if(D===null||O===null)return;const ne=Ue({originLocation:"user-collection",requestIndex:O,folderPath:D});nl(D,O,k),ne&&(ne.value.document.request.name=k.name,jt(()=>{ne.value.document.isDirty=!1})),xt(!1)}else if(ce.value){Z.value=!0;const D=X.value,O=u||d.name;if(!D)return;const ne={request:JSON.stringify(k),title:O};re(bl(D,ne),he(ve=>{n.error(`${ye(ve)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("request.renamed")),xt(!1)}))();const $e=Ue({originLocation:"team-collection",requestID:D});$e&&($e.value.document.request.name=O,jt(()=>{$e.value.document.isDirty=!1}))}},ho=u=>{const{folderPath:d,request:k}=u;if(!d)return;const D={...Ee(k),name:`${k.name} - ${l("action.duplicate")}`};if(a.value.type==="my-collections")_t(d,D),n.success(l("request.duplicated"));else if(ce.value){if(ht.value=!0,!a.value.selectedTeam)return;const O={request:JSON.stringify(D),teamID:a.value.selectedTeam.id,title:`${k.name} - ${l("action.duplicate")}`};re(Vt(d,O),he(ne=>{n.error(`${ye(ne)}`),ht.value=!1},()=>{ht.value=!1,n.success(l("request.duplicated")),st(!1)}))()}},go=u=>{a.value.type==="my-collections"?y.value=parseInt(u):C.value=u,T.value=`${l("confirm.remove_collection")}`,Me(!0)},yo=async u=>{Z.value=!0,await re(ud(u),he(d=>{n.error(`${ye(d)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("state.deleted")),Me(!1)}))()},Ll=()=>{if(a.value.type==="my-collections"){const u=y.value,d=u||u==0?Ot(Ft.value.state,[u]):void 0;if(u===null)return;ze({collectionIndex:u})&&t("select",null),ps(u,d?d.id:void 0),Ct({lastIndex:u,newIndex:-1,folderPath:"",length:m.value.length}),n.success(l("state.deleted")),Me(!1)}else if(ce.value){const u=C.value;if(!u)return;ze({collectionID:u})&&t("select",null),yo(u).then(()=>{Bo()})}},qo=u=>{a.value.type==="my-collections"?w.value=u:C.value=u,T.value=`${l("confirm.remove_folder")}`,Me(!0)},Pl=()=>{if(a.value.type==="my-collections"){const u=w.value;if(!u)return;ze({folderPath:u})&&t("select",null);const d=u?Ot(Ft.value.state,u.split("/").map(D=>parseInt(D))):void 0;fs(u,d?d.id:void 0);const k=u.split("/").slice(0,-1).join("/");Ct({lastIndex:Le(u),newIndex:-1,folderPath:k,length:Ht(m.value,k).length}),n.success(l("state.deleted")),Me(!1)}else if(ce.value){const u=C.value;if(!u)return;ze({collectionID:u})&&t("select",null),yo(u).then(()=>{Bo()})}},xo=u=>{const{folderPath:d,requestIndex:k}=u;a.value.type==="my-collections"&&d?(w.value=d,U.value=parseInt(k)):X.value=k,T.value=`${l("confirm.remove_request")}`,Me(!0)},Ol=()=>{var u;if(a.value.type==="my-collections"){const d=w.value,k=U.value;if(d===null||k===null)return;ze({folderPath:d,requestIndex:k})&&t("select",null);const D=Ue({originLocation:"user-collection",folderPath:d,requestIndex:k});D&&(D.value.document.saveContext=null,D.value.document.isDirty=!0);const O=(u=Ot(Ft.value.state,d.split("/").map(ne=>parseInt(ne))))==null?void 0:u.requests[k];ms(d,k,O==null?void 0:O.id),Mo({lastIndex:k,newIndex:-1,folderPath:d,length:Pt(m.value,d).length}),n.success(l("state.deleted")),Me(!1)}else if(ce.value){const d=X.value;if(!d)return;ze({requestID:d})&&t("select",null),Z.value=!0,re(md(d),he(D=>{n.error(`${ye(D)}`),Z.value=!1},()=>{Z.value=!1,n.success(l("state.deleted")),Me(!1)}))();const k=Ue({originLocation:"team-collection",requestID:d});k&&(k.value.document.saveContext=null,k.value.document.isDirty=!0)}},$o=u=>{t("select",u)},Co=u=>{const{request:d,folderPath:k,requestIndex:D}=u;let O=null;a.value.type==="team-collections"?(O=Ue({originLocation:"team-collection",requestID:D}),O?Ao.value=O.value.id:ct({request:Ee(d),isDirty:!1,saveContext:{originLocation:"team-collection",requestID:D}})):(O=Ue({originLocation:"user-collection",requestIndex:parseInt(D),folderPath:k}),O?Ao.value=O.value.id:ct({request:Ee(d),isDirty:!1,saveContext:{originLocation:"user-collection",folderPath:k,requestIndex:parseInt(D)}}))},Le=u=>{const d=u.split("/");return parseInt(d[d.length-1])},bo=u=>{const{folderPath:d,requestIndex:k,destinationCollectionIndex:D}=u;if(!(!k||!D))if(a.value.type==="my-collections"&&d){rs(d,Le(k),D);const O=Ue({originLocation:"user-collection",folderPath:d,requestIndex:Le(k)});O&&(O.value.document.saveContext={originLocation:"user-collection",folderPath:D,requestIndex:Pt(m.value,D).length}),Mo({lastIndex:Le(k),newIndex:-1,folderPath:d,length:Pt(m.value,d).length}),n.success(`${l("request.moved")}`),p.value=!1}else ce.value&&(_.value.push(k),re(vd(D,k),he(O=>{n.error(`${ye(O)}`),_.value.splice(_.value.indexOf(k),1)},()=>{_.value.splice(_.value.indexOf(k),1);const O=Ue({originLocation:"team-collection",requestID:k});O&&(O.value.document.saveContext={originLocation:"team-collection",requestID:k}),n.success(`${l("request.moved")}`)}))())},He=u=>u.split("/"),Fl=(u,d)=>{const k=He(u),D=He(d);if(k.length<D.length){const O=D.slice(0,k.length);return!!kt(O,k)}return!1},Ul=(u,d)=>{const k=He(u),D=He(d);if(k.length>0){const O=k.slice(0,k.length-1);return!!kt(O,D)}},ko=u=>{const{collectionIndexDragged:d,destinationCollectionIndex:k}=u;if(!(!d||!k)&&d!==k)if(a.value.type==="my-collections"){if(Fl(d,k)){n.error(`${l("team.parent_coll_move")}`);return}if(Ul(d,k))return;const D=d.split("/").slice(0,-1).join("/"),O=Ht(m.value,k).length-(D===k?1:0);Lo(d,k),Ct({lastIndex:Le(d),newIndex:-1,folderPath:D,length:Ht(m.value,D).length},"drop"),yd(d,`${k}/${O}`),p.value=!1,n.success(`${l("collection.moved")}`)}else ce.value&&(r.value.push(d),re(No(d,k),he(D=>{n.error(`${ye(D)}`),r.value.splice(r.value.indexOf(d),1)},()=>{n.success(`${l("collection.moved")}`),r.value.splice(r.value.indexOf(d),1)}))())},Hl=u=>He(u).length===1,Nl=({dataTransfer:u})=>{if(u){const d=u.getData("collectionIndex");if(!d)return;a.value.type==="my-collections"?(Hl(d)?n.error(`${l("collection.invalid_root_move")}`):(Lo(d,null),n.success(`${l("collection.moved")}`)),p.value=!1):ce.value&&(r.value.push(d),re(No(d,null),he(k=>{r.value.splice(r.value.indexOf(d),1),n.error(`${ye(k)}`)},()=>{r.value.splice(r.value.indexOf(d),1),n.success(`${l("collection.moved")}`)}))())}},_o=(u,d,k)=>{const D=He(u);if(d===null&&k===null)return D.length===1;if(d===null&&k!==null&&D.length===1)return D[0]===k;if(d===null&&D.length!==1&&k!==null)return D.slice(0,-1).join("/")===k;{if(d===null)return!1;const O=He(d);if(D.length===1&&O.length===1)return!0;if(D.length===O.length){const ne=D.slice(0,-1),$e=O.slice(0,-1);return!!kt(ne,$e)}else return!1}},Ro=u=>{const{dragedRequestIndex:d,destinationRequestIndex:k,destinationCollectionIndex:D}=u;!d||!D||d!==k&&(a.value.type==="my-collections"?_o(d,k,D)?(ds(Le(d),k?Le(k):null,D),n.success(`${l("request.order_changed")}`)):n.error(`${l("collection.different_parent")}`):ce.value&&(_.value.push(d),re(hd(d,k,D),he(O=>{n.error(`${ye(O)}`),_.value.splice(_.value.indexOf(d),1)},()=>{n.success(`${l("request.order_changed")}`),_.value.splice(_.value.indexOf(d),1)}))()))},Io=u=>{const{dragedCollectionIndex:d,destinationCollection:k}=u,{destinationCollectionIndex:D,destinationCollectionParentIndex:O}=k;!d||d!==D&&(a.value.type==="my-collections"?_o(d,D,O)?(cs(d,D),Ct({lastIndex:Le(d),newIndex:Le(D||""),folderPath:d.split("/").slice(0,-1).join("/")}),n.success(`${l("collection.order_changed")}`)):n.error(`${l("collection.different_parent")}`):ce.value&&(r.value.push(d),re(pd(d,D),he(ne=>{n.error(`${ye(ne)}`),r.value.splice(r.value.indexOf(d),1)},()=>{n.success(`${l("collection.order_changed")}`),r.value.splice(r.value.indexOf(d),1)}))()))},wo=async()=>{if(a.value.type==="my-collections")E.value=JSON.stringify(m.value,null,2);else{if(!a.value.selectedTeam)return;q.value=!0,re(await zs(a.value.selectedTeam.id),Wo(u=>{n.error(`${ye(u)}`),q.value=!1},u=>{const{exportCollectionsToJSON:d}=u;E.value=d,q.value=!1}))}return E.value},Mt=(u,d)=>{const k=new Blob([u],{type:"application/json"}),D=document.createElement("a"),O=URL.createObjectURL(k);D.href=O,d?D.download=`${d}.json`:D.download=`${O.split("/").pop().split("#")[0].split("?")[0]}.json`,document.body.appendChild(D),D.click(),n.success(l("state.download_started").toString()),setTimeout(()=>{document.body.removeChild(D),URL.revokeObjectURL(O)},1e3)},So=async u=>{if(a.value.type==="my-collections"){const d=JSON.stringify(u),k=u.name;Mt(d,k)}else{if(!u.id)return;vt.value=!0,re(Gs(u.id),he(d=>{n.error(`${ye(d)}`),vt.value=!1},d=>{const k=Vs(d),D=JSON.stringify(k);Mt(D,k.name),vt.value=!1}))()}},Bl=async()=>{var u;(u=ee.analytics)==null||u.logEvent({type:"HOPP_EXPORT_COLLECTION",exporter:"json",platform:"rest"}),await wo(),Mt(E.value,null)},jl=async()=>{var u;if(!g.value||!g.value.accessToken){n.error(l("profile.no_permission").toString());return}(u=ee.analytics)==null||u.logEvent({type:"HOPP_EXPORT_COLLECTION",exporter:"gist",platform:"rest"}),v.value=!0,await wo(),re(gd(E.value,g.value.accessToken),he(d=>{n.error(l("error.something_went_wrong").toString()),console.error(d),v.value=!1},d=>{n.success(l("export.gist_created").toString()),v.value=!1,window.open(d.data.html_url)}))()},Vl=async u=>{var d;if(!ce.value){n.error(l("team.no_access").toString());return}!a.value.selectedTeam||(H.value=!0,(d=ee.analytics)==null||d.logEvent({type:"HOPP_EXPORT_COLLECTION",exporter:"import-to-teams",platform:"rest"}),re(fd(JSON.stringify(u),a.value.selectedTeam.id),he(k=>{n.error(`${ye(k)}`),H.value=!1},()=>{H.value=!1,$t(!1)}))())},Gl=u=>{u===`${l("confirm.remove_collection")}`?Ll():u===`${l("confirm.remove_request")}`?Ol():u===`${l("confirm.remove_folder")}`?Pl():(console.error(`Confirm modal title ${u} is not handled by the component`),n.error(l("error.something_went_wrong")),Me(!1))},Fe=()=>{c.value=null,y.value=null,C.value=null,h.value=null,w.value=null,L.value=null,U.value=null,X.value=null,T.value=null},ye=u=>{if(console.error(u),u.type==="network_error")return l("error.network_error");switch(u.error){case"team_coll/short_title":return l("collection.name_length_insufficient");case"team/invalid_coll_id":case"bug/team_coll/no_coll_id":case"team_req/invalid_target_id":return l("team.invalid_coll_id");case"team/not_required_role":return l("profile.no_permission");case"team_req/not_required_role":return l("profile.no_permission");case"Forbidden resource":return l("profile.no_permission");case"team_req/not_found":return l("team.no_request_found");case"bug/team_req/no_req_id":return l("team.no_request_found");case"team/collection_is_parent_coll":return l("team.parent_coll_move");case"team/target_and_destination_collection_are_same":return l("team.same_target_destination");case"team/target_collection_is_already_root_collection":return l("collection.invalid_root_move");case"team_req/requests_not_from_same_collection":return l("request.different_collection");case"team/team_collections_have_different_parents":return l("collection.different_parent");default:return l("error.something_went_wrong")}};return(u,d)=>{var Eo,To;const k=xl,D=ld,O=Nr,ne=Bi,$e=Oi,ve=Di,at=Ii,Ne=Ci,zl=gi,Kl=pi,Jl=ft,Wl=ii,Xl=us;return x(),M("div",{class:le([{"rounded border border-divider":e.saveRequest,"bg-primaryDark":p.value&&s(pe).type!=="request"},"flex-1"]),onDrop:be(Nl,["prevent"]),onDragover:d[15]||(d[15]=be(ge=>p.value=!0,["prevent"])),onDragend:d[16]||(d[16]=ge=>p.value=!1)},[i("div",{class:le(["sticky z-10 flex flex-col flex-shrink-0 overflow-x-auto border-b bg-primary border-dividerLight",{"rounded-t":e.saveRequest}]),style:Tt(e.saveRequest?"top: calc(-1 * var(--line-height-body))":"top: 0")},[$(k,{section:s(l)("tab.collections")},null,8,["section"]),N(i("input",{"onUpdate:modelValue":d[0]||(d[0]=ge=>b.value=ge),type:"search",autocomplete:"off",placeholder:s(l)("action.search"),class:"py-2 pl-4 pr-2 bg-transparent",disabled:a.value.type==="team-collections"},null,8,$d),[[qe,b.value]])],6),a.value.type==="my-collections"?(x(),G(D,{key:0,"collections-type":a.value,"filtered-collections":s(xe),"filter-text":b.value,"save-request":e.saveRequest,picked:e.picked,onAddFolder:po,onAddRequest:uo,onEditCollection:fo,onEditFolder:mo,onExportData:So,onRemoveCollection:go,onRemoveFolder:qo,onDropCollection:ko,onUpdateRequestOrder:Ro,onUpdateCollectionOrder:Io,onEditRequest:vo,onDuplicateRequest:ho,onRemoveRequest:xo,onSelectRequest:Co,onSelect:$o,onDropRequest:bo,onDisplayModalAdd:d[1]||(d[1]=ge=>nt(!0)),onDisplayModalImportExport:d[2]||(d[2]=ge=>$t(!0))},null,8,["collections-type","filtered-collections","filter-text","save-request","picked"])):(x(),G(O,{key:1,"collections-type":a.value,"team-collection-list":s(V),"team-loading-collections":s(Y),"export-loading":vt.value,"duplicate-loading":ht.value,"save-request":e.saveRequest,picked:e.picked,"collection-move-loading":r.value,"request-move-loading":_.value,onAddRequest:uo,onAddFolder:po,onEditCollection:fo,onEditFolder:mo,onExportData:So,onRemoveCollection:go,onRemoveFolder:qo,onEditRequest:vo,onDuplicateRequest:ho,onRemoveRequest:xo,onSelectRequest:Co,onSelect:$o,onDropRequest:bo,onDropCollection:ko,onUpdateRequestOrder:Ro,onUpdateCollectionOrder:Io,onExpandTeamCollection:ae,onDisplayModalAdd:d[3]||(d[3]=ge=>nt(!0)),onDisplayModalImportExport:d[4]||(d[4]=ge=>$t(!0))},null,8,["collections-type","team-collection-list","team-loading-collections","export-loading","duplicate-loading","save-request","picked","collection-move-loading","request-move-loading"])),i("div",{class:le(["hidden bg-primaryDark flex-col flex-1 items-center py-15 justify-center px-4 text-secondaryLight",{"!flex":p.value&&s(pe).type!=="request"}])},[$(ne,{class:"svg-icons !w-8 !h-8"})],2),$($e,{show:oo.value,"loading-state":Z.value,onSubmit:Sl,onHideModal:d[5]||(d[5]=ge=>nt(!1))},null,8,["show","loading-state"]),$(ve,{show:lo.value,"loading-state":Z.value,onAddRequest:El,onHideModal:d[6]||(d[6]=ge=>st(!1))},null,8,["show","loading-state"]),$(at,{show:no.value,"loading-state":Z.value,onAddFolder:Tl,onHideModal:d[7]||(d[7]=ge=>gt(!1))},null,8,["show","loading-state"]),$(Ne,{show:so.value,"editing-collection-name":(Eo=f.value)!=null?Eo:"","loading-state":Z.value,onHideModal:d[8]||(d[8]=ge=>yt(!1)),onSubmit:Dl},null,8,["show","editing-collection-name","loading-state"]),$(zl,{show:ao.value,"editing-folder-name":(To=R.value)!=null?To:"","loading-state":Z.value,onSubmit:Al,onHideModal:d[9]||(d[9]=ge=>qt(!1))},null,8,["show","editing-folder-name","loading-state"]),$(Kl,{modelValue:A.value,"onUpdate:modelValue":d[10]||(d[10]=ge=>A.value=ge),show:io.value,"loading-state":Z.value,onSubmit:Ml,onHideModal:d[11]||(d[11]=ge=>xt(!1))},null,8,["modelValue","show","loading-state"]),$(Jl,{show:At.value,title:T.value,"loading-state":Z.value,onHideModal:d[12]||(d[12]=ge=>At.value=!1),onResolve:Gl},null,8,["show","title","loading-state"]),$(Wl,{show:ro.value,"collections-type":a.value.type,"exporting-team-collections":q.value,"creating-gist-collection":v.value,"importing-my-collections":H.value,onExportJsonCollection:Bl,onCreateCollectionGist:jl,onImportToTeams:Vl,onHideModal:d[13]||(d[13]=ge=>$t(!1))},null,8,["show","collections-type","exporting-team-collections","creating-gist-collection","importing-my-collections"]),$(Xl,{show:co.value,onHideModal:d[14]||(d[14]=ge=>wl(!1))},null,8,["show"])],42,xd)}}}),bd=["onKeyup"],kd=["title"],_d={class:"flex flex-col space-y-2"},Rd=i("hr",null,null,-1),Id=te({__name:"ImportExport",props:{show:{type:Boolean}},emits:["hide-modal"],setup(e,{emit:t}){const o=me(),l=oe(),n=Ce(sl,[]),a=Ce(ee.auth.getCurrentUserStream(),ee.auth.getCurrentUser()),c=I(null),f=I(),y=W(()=>JSON.stringify(n.value,null,2)),C=async()=>{if(!a.value){o.error(l("profile.no_permission").toString());return}try{const T=await Bt.post("https://api.github.com/gists",{files:{"hoppscotch-collections.json":{content:y.value}}},{headers:{Authorization:`token ${a.value.accessToken}`,Accept:"application/vnd.github.v3+json"}});o.success(l("export.gist_created").toString()),window.open(T.data.html_url)}catch(T){o.error(l("error.something_went_wrong").toString()),console.error(T)}},h=()=>{o.success(l("state.file_imported").toString())},R=()=>{o.error(l("import.failed").toString())},w=async()=>{const T=prompt(l("import.gist_url").toString());if(!!T)try{const{files:b}=await Bt.get(`https://api.github.com/gists/${T.split("/").pop()}`,{headers:{Accept:"application/vnd.github.v3+json"}}),g=JSON.parse(Object.values(b)[0].content);vs(g),h()}catch(b){R(),console.error(b)}},L=()=>{t("hide-modal")},A=()=>{f.value&&f.value.click()},U=()=>{if(!f.value)return;if(!f.value.files||f.value.files.length===0){o.show(l("action.choose_file").toString());return}const T=new FileReader;T.onload=({target:b})=>{var p;const g=b.result;if(!g){o.show(l("action.choose_file").toString());return}const m=JSON.parse(g);if(m[0])Object.keys(m[0]);else{R();return}hs(m),(p=ee.analytics)==null||p.logEvent({type:"HOPP_IMPORT_COLLECTION",importer:"json",workspaceType:"personal",platform:"gql"}),h()},T.readAsText(f.value.files[0]),f.value.value=""},X=()=>{var p,r;const T=y.value,b=new Blob([T],{type:"application/json"}),g=document.createElement("a"),m=URL.createObjectURL(b);g.href=m,(r=(p=ee)==null?void 0:p.analytics)==null||r.logEvent({type:"HOPP_EXPORT_COLLECTION",exporter:"json",platform:"gql"}),g.download=`${m.split("/").pop().split("#")[0].split("?")[0]}.json`,document.body.appendChild(g),g.click(),o.success(l("state.download_started").toString()),setTimeout(()=>{document.body.removeChild(g),URL.revokeObjectURL(m)},1e3)};return(T,b)=>{const g=se,m=Ge,p=Oe("tippy"),r=ke,_=de("tippy");return e.show?(x(),G(r,{key:0,dialog:"",title:`${s(l)("modal.collections")}`,styles:"sm:max-w-md",onClose:L},{actions:B(()=>[i("span",null,[$(p,{interactive:"",trigger:"click",theme:"popover"},{content:B(({hide:E})=>[i("div",{ref_key:"tippyActions",ref:c,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:Q(q=>E(),["escape"])},[$(m,{icon:s(Nt),label:s(l)("import.from_gist"),onClick:()=>{w(),E()}},null,8,["icon","label","onClick"]),N((x(),M("span",{title:s(a)?s(a).provider!=="github.com"?`${s(l)("export.require_github")}`:void 0:`${s(l)("export.require_github")}`},[$(m,{disabled:s(a)?s(a).provider!=="github.com":!0,icon:s(Nt),label:s(l)("export.create_secret_gist"),onClick:()=>{C(),E()}},null,8,["disabled","icon","label","onClick"])],8,kd)),[[_,{theme:"tooltip"}]])],40,bd)]),default:B(()=>[N($(g,{title:s(l)("action.more"),icon:s(et),"on-shown":()=>c.value.focus()},null,8,["title","icon","on-shown"]),[[_,{theme:"tooltip"}]])]),_:1})])]),body:B(()=>[i("div",_d,[$(m,{icon:s(Ve),label:s(l)("import.from_json"),onClick:A},null,8,["icon","label"]),i("input",{ref_key:"inputChooseFileToImportFrom",ref:f,class:"input",type:"file",accept:"application/json",onChange:U},null,544),Rd,N($(m,{title:s(l)("action.download_file"),icon:s(zt),label:s(l)("export.as_json"),onClick:X},null,8,["title","icon","label"]),[[_,{theme:"tooltip"}]])])]),_:1},8,["title"])):K("",!0)}}}),wd=te({props:{show:Boolean,folderPath:{type:String,default:null},request:{type:Object,default:()=>({})},requestIndex:{type:Number,default:null},editingRequestName:{type:String,default:null}},emits:["hide-modal"],setup(){return{toast:me(),t:oe()}},data(){return{requestUpdateData:{name:null}}},watch:{editingRequestName(e){this.requestUpdateData.name=e}},methods:{saveRequest(){if(!this.requestUpdateData.name){this.toast.error(`${this.t("collection.invalid_name")}`);return}const e={...this.$props.request,name:this.$data.requestUpdateData.name||this.$props.request.name};al(this.folderPath,this.requestIndex,e),this.hideModal()},hideModal(){this.requestUpdateData={name:null},this.$emit("hide-modal")}}}),Sd={class:"flex flex-col"},Ed={for:"selectLabelGqlEditReq"},Td={class:"flex space-x-2"};function Dd(e,t,o,l,n,a){const c=Ie,f=se,y=ke,C=de("focus");return e.show?(x(),G(y,{key:0,dialog:"",title:`${e.t("modal.edit_request")}`,onClose:e.hideModal},{body:B(()=>[i("div",Sd,[N(i("input",{id:"selectLabelGqlEditReq","onUpdate:modelValue":t[0]||(t[0]=h=>e.requestUpdateData.name=h),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:t[1]||(t[1]=Q((...h)=>e.saveRequest&&e.saveRequest(...h),["enter"]))},null,544),[[qe,e.requestUpdateData.name],[C]]),i("label",Ed,z(e.t("action.label")),1)])]),footer:B(()=>[i("span",Td,[$(c,{label:`${e.t("action.save")}`,outline:"",onClick:e.saveRequest},null,8,["label","onClick"]),$(f,{label:`${e.t("action.cancel")}`,outline:"",filled:"",onClick:e.hideModal},null,8,["label","onClick"])])]),_:1},8,["title","onClose"])):K("",!0)}const Ad=mt(wd,[["render",Dd]]),Md=te({props:{show:Boolean,folder:{type:Object,default:()=>({})},folderPath:{type:String,default:null},editingFolderName:{type:String,default:null}},emits:["hide-modal"],setup(){return{toast:me(),t:oe()}},data(){return{name:""}},watch:{editingFolderName(e){this.name=e}},methods:{editFolder(){if(!this.name){this.toast.error(`${this.t("collection.invalid_name")}`);return}gs(this.folderPath,{...this.folder,name:this.name}),this.hideModal()},hideModal(){this.name="",this.$emit("hide-modal")}}}),Ld={class:"flex flex-col"},Pd={for:"selectLabelGqlEditFolder"},Od={class:"flex space-x-2"};function Fd(e,t,o,l,n,a){const c=Ie,f=se,y=ke,C=de("focus");return e.show?(x(),G(y,{key:0,dialog:"",title:`${e.t("folder.edit")}`,onClose:t[2]||(t[2]=h=>e.$emit("hide-modal"))},{body:B(()=>[i("div",Ld,[N(i("input",{id:"selectLabelGqlEditFolder","onUpdate:modelValue":t[0]||(t[0]=h=>e.name=h),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:t[1]||(t[1]=Q((...h)=>e.editFolder&&e.editFolder(...h),["enter"]))},null,544),[[qe,e.name],[C]]),i("label",Pd,z(e.t("action.label")),1)])]),footer:B(()=>[i("span",Od,[$(c,{label:`${e.t("action.save")}`,outline:"",onClick:e.editFolder},null,8,["label","onClick"]),$(f,{label:`${e.t("action.cancel")}`,outline:"",filled:"",onClick:e.hideModal},null,8,["label","onClick"])])]),_:1},8,["title"])):K("",!0)}const Ud=mt(Md,[["render",Fd]]),Hd=te({props:{show:Boolean,folderPath:{type:String,default:null},collectionIndex:{type:Number,default:null}},emits:["hide-modal","add-folder"],setup(){return{toast:me(),t:oe()}},data(){return{name:null}},methods:{addFolder(){if(!this.name){this.toast.error(`${this.t("folder.name_length_insufficient")}`);return}this.$emit("add-folder",{name:this.name,path:this.folderPath||`${this.collectionIndex}`}),this.hideModal()},hideModal(){this.name=null,this.$emit("hide-modal")}}}),Nd={class:"flex flex-col"},Bd={for:"selectLabelGqlAddFolder"},jd={class:"flex space-x-2"};function Vd(e,t,o,l,n,a){const c=Ie,f=se,y=ke,C=de("focus");return e.show?(x(),G(y,{key:0,dialog:"",title:e.t("folder.new"),onClose:t[2]||(t[2]=h=>e.$emit("hide-modal"))},{body:B(()=>[i("div",Nd,[N(i("input",{id:"selectLabelGqlAddFolder","onUpdate:modelValue":t[0]||(t[0]=h=>e.name=h),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:t[1]||(t[1]=Q((...h)=>e.addFolder&&e.addFolder(...h),["enter"]))},null,544),[[qe,e.name],[C]]),i("label",Bd,z(e.t("action.label")),1)])]),footer:B(()=>[i("span",jd,[$(c,{label:e.t("action.save"),outline:"",onClick:e.addFolder},null,8,["label","onClick"]),$(f,{label:e.t("action.cancel"),outline:"",filled:"",onClick:e.hideModal},null,8,["label","onClick"])])]),_:1},8,["title"])):K("",!0)}const Gd=mt(Hd,[["render",Vd]]),zd={class:"flex flex-col"},Kd=["onKeyup"],Jd={for:"selectLabelGqlAddRequest"},Wd={class:"flex space-x-2"},Xd=te({__name:"AddRequest",props:{show:{type:Boolean},folderPath:null},emits:["hide-modal","add-request"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=I("");fe(()=>o.show,y=>{y&&(a.value=Jt().request.name)});const c=()=>{if(!a.value){l.error(`${n("error.empty_req_name")}`);return}t("add-request",{name:a.value,path:o.folderPath}),f()},f=()=>{t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:s(n)("request.new"),onClose:C[1]||(C[1]=A=>t("hide-modal"))},{body:B(()=>[i("div",zd,[N(i("input",{id:"selectLabelGqlAddRequest","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,Kd),[[qe,a.value],[L]]),i("label",Jd,z(s(n)("action.label")),1)])]),footer:B(()=>[i("span",Wd,[$(h,{label:s(n)("action.save"),outline:"",onClick:c},null,8,["label"]),$(R,{label:s(n)("action.cancel"),outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),Qd={class:"flex flex-col"},Yd=["onKeyup"],Zd={for:"selectLabelGqlEdit"},ec={class:"flex space-x-2"},tc=te({__name:"Edit",props:{show:Boolean,editingCollection:{type:Object,default:()=>({})},editingCollectionIndex:{type:Number,default:null},editingCollectionName:{type:String,default:null}},emits:["hide-modal"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=I();fe(()=>o.editingCollectionName,y=>{a.value=y});const c=()=>{if(!a.value){n.error(`${l("collection.invalid_name")}`);return}const y={...o.editingCollection,name:a.value};ys(o.editingCollectionIndex,y),f()},f=()=>{a.value=null,t("hide-modal")};return(y,C)=>{const h=Ie,R=se,w=ke,L=de("focus");return e.show?(x(),G(w,{key:0,dialog:"",title:`${s(l)("collection.edit")}`,onClose:f},{body:B(()=>[i("div",Qd,[N(i("input",{id:"selectLabelGqlEdit","onUpdate:modelValue":C[0]||(C[0]=A=>a.value=A),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(c,["enter"])},null,40,Yd),[[qe,a.value],[L]]),i("label",Zd,z(s(l)("action.label")),1)])]),footer:B(()=>[i("span",ec,[$(h,{label:`${s(l)("action.save")}`,outline:"",onClick:c},null,8,["label"]),$(R,{label:`${s(l)("action.cancel")}`,outline:"",filled:"",onClick:f},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),oc=te({props:{show:Boolean},emits:["hide-modal"],setup(){return{toast:me(),t:oe()}},data(){return{name:null}},methods:{addNewCollection(){var e;if(!this.name){this.toast.error(`${this.t("collection.invalid_name")}`);return}qs(ll({name:this.name,folders:[],requests:[]})),this.hideModal(),(e=ee.analytics)==null||e.logEvent({type:"HOPP_CREATE_COLLECTION",isRootCollection:!0,platform:"gql",workspaceType:"personal"})},hideModal(){this.name=null,this.$emit("hide-modal")}}}),lc={class:"flex flex-col"},nc={for:"selectLabelGqlAdd"},sc={class:"flex space-x-2"};function ac(e,t,o,l,n,a){const c=Ie,f=se,y=ke,C=de("focus");return e.show?(x(),G(y,{key:0,dialog:"",title:`${e.t("collection.new")}`,onClose:e.hideModal},{body:B(()=>[i("div",lc,[N(i("input",{id:"selectLabelGqlAdd","onUpdate:modelValue":t[0]||(t[0]=h=>e.name=h),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:t[1]||(t[1]=Q((...h)=>e.addNewCollection&&e.addNewCollection(...h),["enter"]))},null,544),[[qe,e.name],[C]]),i("label",nc,z(e.t("action.label")),1)])]),footer:B(()=>[i("span",sc,[$(c,{label:`${e.t("action.save")}`,outline:"",onClick:e.addNewCollection},null,8,["label","onClick"]),$(f,{label:`${e.t("action.cancel")}`,outline:"",filled:"",onClick:e.hideModal},null,8,["label","onClick"])])]),_:1},8,["title","onClose"])):K("",!0)}const ic=mt(oc,[["render",ac]]),rc={class:"flex"},dc=["onKeyup"],kl=te({__name:"Request",props:{picked:{type:Object,default:null},saveRequest:{type:Boolean,default:!1},request:{type:Object,default:()=>({})},folderPath:{type:String,default:null},requestIndex:{type:Number,default:null}},emits:["select","edit-request","duplicate-request"],setup(e,{emit:t}){const o=e,l=I(null),n=I(null),a=I(null),c=I(null),f=I(null),y=oe(),C=me(),h=I(!1),R=I(!1),w=W(()=>{var T,b,g;return((T=o.picked)==null?void 0:T.pickedType)==="gql-my-request"&&((b=o.picked)==null?void 0:b.folderPath)===o.folderPath&&((g=o.picked)==null?void 0:g.requestIndex)===o.requestIndex}),L=()=>{t("select",{pickedType:"gql-my-request",folderPath:o.folderPath,requestIndex:o.requestIndex})},A=()=>{o.saveRequest?L():Wt({request:Ee(il({name:o.request.name,url:o.request.url,query:o.request.query,headers:o.request.headers,variables:o.request.variables,auth:o.request.auth})),schema:"",response:""})},U=({dataTransfer:T})=>{h.value=!h.value,T.setData("folderPath",o.folderPath),T.setData("requestIndex",o.requestIndex)},X=()=>{o.picked&&o.picked.pickedType==="gql-my-request"&&o.picked.folderPath===o.folderPath&&o.picked.requestIndex===o.requestIndex&&t("select",null),xs(o.folderPath,o.requestIndex,o.request.id),C.success(`${y("state.deleted")}`)};return(T,b)=>{const g=se,m=Ge,p=Oe("tippy"),r=ft,_=de("tippy");return x(),M("div",{class:le(["flex flex-col",[{"bg-primaryLight":h.value}]])},[i("div",{class:"flex items-stretch group",draggable:"true",onDragstart:U,onDragover:b[6]||(b[6]=be(()=>{},["stop"])),onDragleave:b[7]||(b[7]=E=>h.value=!1),onDragend:b[8]||(b[8]=E=>h.value=!1),onContextmenu:b[9]||(b[9]=be(E=>n.value.tippy.show(),["prevent"]))},[i("span",{class:"flex items-center justify-center w-16 px-2 truncate cursor-pointer",onClick:b[0]||(b[0]=E=>A())},[(x(),G(Ye(s(w)?s(ot):s(js)),{class:le(["svg-icons",{"text-accent":s(w)}])},null,8,["class"]))]),i("span",{class:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark",onClick:b[1]||(b[1]=E=>A())},[i("span",{class:le(["truncate",{"text-accent":s(w)}])},z(e.request.name),3)]),i("div",rc,[e.saveRequest?K("",!0):N((x(),G(g,{key:0,icon:s(dl),title:s(y)("action.restore"),class:"hidden group-hover:inline-flex",onClick:b[2]||(b[2]=E=>A())},null,8,["icon","title"])),[[_,{theme:"tooltip"}]]),i("span",null,[$(p,{ref_key:"options",ref:n,interactive:"",trigger:"click",theme:"popover","on-shown":()=>l.value.focus()},{content:B(({hide:E})=>[i("div",{ref_key:"tippyActions",ref:l,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:[b[3]||(b[3]=Q(q=>a.value.$el.click(),["e"])),b[4]||(b[4]=Q(q=>c.value.$el.click(),["d"])),b[5]||(b[5]=Q(q=>f.value.$el.click(),["delete"])),Q(q=>E(),["escape"])]},[$(m,{ref_key:"edit",ref:a,icon:s(pt),label:`${s(y)("action.edit")}`,shortcut:["E"],onClick:()=>{T.$emit("edit-request",{request:e.request,requestIndex:e.requestIndex,folderPath:e.folderPath}),E()}},null,8,["icon","label","onClick"]),$(m,{ref_key:"duplicate",ref:c,icon:s(Xo),label:`${s(y)("action.duplicate")}`,shortcut:["D"],onClick:()=>{T.$emit("duplicate-request",{request:e.request,requestIndex:e.requestIndex,folderPath:e.folderPath}),E()}},null,8,["icon","label","onClick"]),$(m,{ref_key:"deleteAction",ref:f,icon:s(Ze),label:`${s(y)("action.delete")}`,shortcut:["\u232B"],onClick:()=>{R.value=!0,E()}},null,8,["icon","label","onClick"])],40,dc)]),default:B(()=>[N($(g,{title:s(y)("action.more"),icon:s(et)},null,8,["title","icon"]),[[_,{theme:"tooltip"}]])]),_:1},8,["on-shown"])])])],32),$(r,{show:R.value,title:`${s(y)("confirm.remove_request")}`,onHideModal:b[10]||(b[10]=E=>R.value=!1),onResolve:X},null,8,["show","title"])],2)}}}),cc=["onDrop"],uc={class:"flex"},pc=["onKeyup"],fc={key:0,class:"flex"},mc={class:"flex flex-col flex-1 truncate"},vc={key:0,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},hc=["src","alt"],gc={class:"text-center"},yc=te({__name:"Folder",props:{picked:{type:Object,default:null},saveRequest:{type:Boolean,default:!1},folder:{type:Object,default:()=>({})},folderIndex:{type:Number,default:null},collectionIndex:{type:Number,default:null},folderPath:{type:String,default:null},isFiltered:Boolean},emits:["select","add-request","edit-request","add-folder","edit-folder","duplicate-request"],setup(e,{emit:t}){const o=e,l=me(),n=oe(),a=tt(),c=I(null),f=I(null),y=I(null),C=I(null),h=I(null),R=I(null),w=I(!1),L=I(!1),A=I(!1),U=W(()=>{var p,r;return((p=o.picked)==null?void 0:p.pickedType)==="gql-my-folder"&&((r=o.picked)==null?void 0:r.folderPath)===o.folderPath}),X=W(()=>U.value?ot:!w.value&&!o.isFiltered?Qe:w.value||!o.isFiltered?eo:Qe),T=()=>{t("select",{picked:{pickedType:"gql-my-folder",folderPath:o.folderPath}})},b=()=>{o.saveRequest&&T(),w.value=!w.value},g=()=>{var p,r;((p=o.picked)==null?void 0:p.pickedType)==="gql-my-folder"&&((r=o.picked)==null?void 0:r.folderPath)===o.folderPath&&t("select",{picked:null}),$s(o.folderPath,o.folder.id),l.success(n("state.deleted"))},m=({dataTransfer:p})=>{L.value=!L.value;const r=p.getData("folderPath"),_=p.getData("requestIndex");rl(r,_,o.folderPath)};return(p,r)=>{const _=se,E=Ge,q=Oe("tippy"),v=Oe("Folder",!0),H=kl,j=ft,F=de("tippy");return x(),M("div",{class:le(["flex flex-col",[{"bg-primaryLight":L.value}]])},[i("div",{class:"flex items-stretch group",onDragover:[r[8]||(r[8]=be(()=>{},["prevent"])),r[9]||(r[9]=S=>L.value=!0)],onDrop:[be(m,["prevent"]),r[10]||(r[10]=S=>L.value=!1)],onDragleave:r[11]||(r[11]=S=>L.value=!1),onDragend:r[12]||(r[12]=S=>L.value=!1),onContextmenu:r[13]||(r[13]=be(S=>f.value.tippy.show(),["prevent"]))},[i("span",{class:"flex items-center justify-center px-4 cursor-pointer",onClick:r[0]||(r[0]=S=>b())},[(x(),G(Ye(s(X)),{class:le(["svg-icons",{"text-accent":s(U)}])},null,8,["class"]))]),i("span",{class:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark",onClick:r[1]||(r[1]=S=>b())},[i("span",{class:le(["truncate",{"text-accent":s(U)}])},z(e.folder.name?e.folder.name:e.folder.title),3)]),i("div",uc,[N($(_,{icon:s(Xe),title:s(n)("request.new"),class:"hidden group-hover:inline-flex",onClick:r[2]||(r[2]=S=>t("add-request",{path:e.folderPath}))},null,8,["icon","title"]),[[F,{theme:"tooltip"}]]),N($(_,{icon:s(Ve),title:s(n)("folder.new"),class:"hidden group-hover:inline-flex",onClick:r[3]||(r[3]=S=>t("add-folder",{folder:e.folder,path:e.folderPath}))},null,8,["icon","title"]),[[F,{theme:"tooltip"}]]),i("span",null,[$(q,{ref_key:"options",ref:f,interactive:"",trigger:"click",theme:"popover","on-shown":()=>c.value.focus()},{content:B(({hide:S})=>[i("div",{ref_key:"tippyActions",ref:c,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:[r[4]||(r[4]=Q(J=>y.value.$el.click(),["r"])),r[5]||(r[5]=Q(J=>C.value.$el.click(),["n"])),r[6]||(r[6]=Q(J=>h.value.$el.click(),["e"])),r[7]||(r[7]=Q(J=>R.value.$el.click(),["delete"])),Q(J=>S(),["escape"])]},[$(E,{ref_key:"requestAction",ref:y,icon:s(Xe),label:`${s(n)("request.new")}`,shortcut:["R"],onClick:()=>{t("add-request",{path:e.folderPath}),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"folderAction",ref:C,icon:s(Ve),label:`${s(n)("folder.new")}`,shortcut:["N"],onClick:()=>{t("add-folder",{folder:e.folder,path:e.folderPath}),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"edit",ref:h,icon:s(pt),label:`${s(n)("action.edit")}`,shortcut:["E"],onClick:()=>{t("edit-folder",{folder:e.folder,folderPath:e.folderPath}),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"deleteAction",ref:R,icon:s(Ze),label:`${s(n)("action.delete")}`,shortcut:["\u232B"],onClick:()=>{A.value=!0,S()}},null,8,["icon","label","onClick"])],40,pc)]),default:B(()=>[N($(_,{title:s(n)("action.more"),icon:s(et)},null,8,["title","icon"]),[[F,{theme:"tooltip"}]])]),_:1},8,["on-shown"])])])],40,cc),w.value||e.isFiltered?(x(),M("div",fc,[i("div",{class:"bg-dividerLight cursor-nsResize flex ml-5.5 transform transition w-0.5 hover:bg-dividerDark hover:scale-x-125",onClick:r[14]||(r[14]=S=>b())}),i("div",mc,[(x(!0),M(Re,null,Se(e.folder.folders,(S,J)=>(x(),G(v,{key:`subFolder-${String(J)}`,picked:e.picked,"save-request":e.saveRequest,folder:S,"folder-index":J,"folder-path":`${e.folderPath}/${String(J)}`,"collection-index":e.collectionIndex,"is-filtered":e.isFiltered,onAddRequest:r[15]||(r[15]=P=>t("add-request",P)),onAddFolder:r[16]||(r[16]=P=>t("add-folder",P)),onEditFolder:r[17]||(r[17]=P=>t("edit-folder",P)),onEditRequest:r[18]||(r[18]=P=>t("edit-request",P)),onDuplicateRequest:r[19]||(r[19]=P=>t("duplicate-request",P)),onSelect:r[20]||(r[20]=P=>t("select",P))},null,8,["picked","save-request","folder","folder-index","folder-path","collection-index","is-filtered"]))),128)),(x(!0),M(Re,null,Se(e.folder.requests,(S,J)=>(x(),G(H,{key:`request-${String(J)}`,picked:e.picked,"save-request":e.saveRequest,request:S,"collection-index":e.collectionIndex,"folder-index":e.folderIndex,"folder-path":e.folderPath,"folder-name":e.folder.name,"request-index":J,onEditRequest:r[21]||(r[21]=P=>t("edit-request",P)),onDuplicateRequest:r[22]||(r[22]=P=>t("duplicate-request",P)),onSelect:r[23]||(r[23]=P=>t("select",P))},null,8,["picked","save-request","request","collection-index","folder-index","folder-path","folder-name","request-index"]))),128)),e.folder.folders&&e.folder.folders.length===0&&e.folder.requests&&e.folder.requests.length===0?(x(),M("div",vc,[i("img",{src:`/images/states/${s(a).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(n)("empty.folder")}`},null,8,hc),i("span",gc,z(s(n)("empty.folder")),1)])):K("",!0)])])):K("",!0),$(j,{show:A.value,title:`${s(n)("confirm.remove_folder")}`,onHideModal:r[24]||(r[24]=S=>A.value=!1),onResolve:g},null,8,["show","title"])],2)}}}),qc=["onDrop"],xc={class:"flex"},$c=["onKeyup"],Cc={key:0,class:"flex"},bc={class:"flex flex-col flex-1 truncate"},kc={key:0,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},_c=["src","alt"],Rc={class:"pb-4 text-center"},Ic=te({__name:"Collection",props:{picked:{type:Object,default:null},saveRequest:{type:Boolean,default:!1},collectionIndex:{type:Number,default:null},collection:{type:Object,default:()=>({})},isFiltered:Boolean},emits:["select","edit-request","duplicate-request","add-request","add-folder","edit-folder","edit-collection"],setup(e,{emit:t}){const o=e,l=tt(),n=me(),a=oe(),c=I(null),f=I(null),y=I(null),C=I(null),h=I(null),R=I(null),w=I(!1),L=I(!1),A=I(!1),U=W(()=>{var p,r;return((p=o.picked)==null?void 0:p.pickedType)==="gql-my-collection"&&((r=o.picked)==null?void 0:r.collectionIndex)===o.collectionIndex}),X=W(()=>U.value?ot:!w.value&&!o.isFiltered?Qe:!w.value||o.isFiltered?eo:Qe),T=()=>{t("select",{pickedType:"gql-my-collection",collectionIndex:o.collectionIndex})},b=()=>{o.saveRequest&&T(),w.value=!w.value},g=()=>{var p,r;((p=o.picked)==null?void 0:p.pickedType)==="gql-my-collection"&&((r=o.picked)==null?void 0:r.collectionIndex)===o.collectionIndex&&t("select",null),Cs(o.collectionIndex,o.collection.id),n.success(`${a("state.deleted")}`)},m=({dataTransfer:p})=>{L.value=!L.value;const r=p.getData("folderPath"),_=p.getData("requestIndex");rl(r,_,`${o.collectionIndex}`)};return(p,r)=>{const _=se,E=Ge,q=Oe("tippy"),v=yc,H=kl,j=ft,F=de("tippy");return x(),M("div",{class:le(["flex flex-col",[{"bg-primaryLight":L.value}]])},[i("div",{class:"flex items-stretch group",onDragover:[r[8]||(r[8]=be(()=>{},["prevent"])),r[9]||(r[9]=S=>L.value=!0)],onDrop:[be(m,["prevent"]),r[10]||(r[10]=S=>L.value=!1)],onDragleave:r[11]||(r[11]=S=>L.value=!1),onDragend:r[12]||(r[12]=S=>L.value=!1),onContextmenu:r[13]||(r[13]=be(S=>f.value.tippy.show(),["prevent"]))},[i("span",{class:"flex items-center justify-center px-4 cursor-pointer",onClick:r[0]||(r[0]=S=>b())},[(x(),G(Ye(s(X)),{class:le(["svg-icons",{"text-accent":s(U)}])},null,8,["class"]))]),i("span",{class:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark",onClick:r[1]||(r[1]=S=>b())},[i("span",{class:le(["truncate",{"text-accent":s(U)}])},z(e.collection.name),3)]),i("div",xc,[N($(_,{icon:s(Xe),title:s(a)("request.new"),class:"hidden group-hover:inline-flex",onClick:r[2]||(r[2]=S=>t("add-request",{path:`${e.collectionIndex}`}))},null,8,["icon","title"]),[[F,{theme:"tooltip"}]]),N($(_,{icon:s(Ve),title:s(a)("folder.new"),class:"hidden group-hover:inline-flex",onClick:r[3]||(r[3]=S=>t("add-folder",{path:`${e.collectionIndex}`}))},null,8,["icon","title"]),[[F,{theme:"tooltip"}]]),i("span",null,[$(q,{ref_key:"options",ref:f,interactive:"",trigger:"click",theme:"popover","on-shown":()=>c.value.focus()},{content:B(({hide:S})=>[i("div",{ref_key:"tippyActions",ref:c,class:"flex flex-col focus:outline-none",tabindex:"0",onKeyup:[r[4]||(r[4]=Q(J=>y.value.$el.click(),["r"])),r[5]||(r[5]=Q(J=>C.value.$el.click(),["n"])),r[6]||(r[6]=Q(J=>h.value.$el.click(),["e"])),r[7]||(r[7]=Q(J=>R.value.$el.click(),["delete"])),Q(J=>S(),["escape"])]},[$(E,{ref_key:"requestAction",ref:y,icon:s(Xe),label:`${s(a)("request.new")}`,shortcut:["R"],onClick:()=>{p.$emit("add-request",{path:`${e.collectionIndex}`}),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"folderAction",ref:C,icon:s(Ve),label:`${s(a)("folder.new")}`,shortcut:["N"],onClick:()=>{t("add-folder",{path:`${e.collectionIndex}`}),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"edit",ref:h,icon:s(pt),label:`${s(a)("action.edit")}`,shortcut:["E"],onClick:()=>{t("edit-collection"),S()}},null,8,["icon","label","onClick"]),$(E,{ref_key:"deleteAction",ref:R,icon:s(Ze),label:`${s(a)("action.delete")}`,shortcut:["\u232B"],onClick:()=>{A.value=!0,S()}},null,8,["icon","label","onClick"])],40,$c)]),default:B(()=>[N($(_,{title:s(a)("action.more"),icon:s(et)},null,8,["title","icon"]),[[F,{theme:"tooltip"}]])]),_:1},8,["on-shown"])])])],40,qc),w.value||e.isFiltered?(x(),M("div",Cc,[i("div",{class:"bg-dividerLight cursor-nsResize flex ml-5.5 transform transition w-0.5 hover:bg-dividerDark hover:scale-x-125",onClick:r[14]||(r[14]=S=>b())}),i("div",bc,[(x(!0),M(Re,null,Se(e.collection.folders,(S,J)=>(x(),G(v,{key:`folder-${String(J)}`,picked:e.picked,"save-request":e.saveRequest,folder:S,"folder-index":J,"folder-path":`${e.collectionIndex}/${String(J)}`,"collection-index":e.collectionIndex,"is-filtered":e.isFiltered,onAddRequest:r[15]||(r[15]=P=>p.$emit("add-request",P)),onAddFolder:r[16]||(r[16]=P=>p.$emit("add-folder",P)),onEditFolder:r[17]||(r[17]=P=>p.$emit("edit-folder",P)),onEditRequest:r[18]||(r[18]=P=>p.$emit("edit-request",P)),onDuplicateRequest:r[19]||(r[19]=P=>p.$emit("duplicate-request",P)),onSelect:r[20]||(r[20]=P=>p.$emit("select",P))},null,8,["picked","save-request","folder","folder-index","folder-path","collection-index","is-filtered"]))),128)),(x(!0),M(Re,null,Se(e.collection.requests,(S,J)=>(x(),G(H,{key:`request-${String(J)}`,picked:e.picked,"save-request":e.saveRequest,request:S,"collection-index":e.collectionIndex,"folder-index":-1,"folder-name":e.collection.name,"folder-path":`${e.collectionIndex}`,"request-index":J,onEditRequest:r[21]||(r[21]=P=>p.$emit("edit-request",P)),onDuplicateRequest:r[22]||(r[22]=P=>p.$emit("duplicate-request",P)),onSelect:r[23]||(r[23]=P=>p.$emit("select",P))},null,8,["picked","save-request","request","collection-index","folder-name","folder-path","request-index"]))),128)),e.collection.folders.length===0&&e.collection.requests.length===0?(x(),M("div",kc,[i("img",{src:`/images/states/${s(l).value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 mb-4",alt:`${s(a)("empty.collection")}`},null,8,_c),i("span",Rc,z(s(a)("empty.collection")),1),$(_,{label:s(a)("add.new"),filled:"",outline:"",onClick:r[24]||(r[24]=S=>t("add-folder",{path:`${e.collectionIndex}`}))},null,8,["label"])])):K("",!0)])])):K("",!0),$(j,{show:A.value,title:`${s(a)("confirm.remove_collection")}`,onHideModal:r[25]||(r[25]=S=>A.value=!1),onResolve:g},null,8,["show","title"])],2)}}}),wc=te({props:{saveRequest:{type:Boolean,default:!1},picked:{type:Object,default:null}},emits:["select","use-collection"],setup(){const e=Ce(sl,[],"deep"),t=tt(),o=oe();return{collections:e,colorMode:t,t:o,IconPlus:ut,IconHelpCircle:Et,IconArchive:to}},data(){return{showModalAdd:!1,showModalEdit:!1,showModalImportExport:!1,showModalAddRequest:!1,showModalAddFolder:!1,showModalEditFolder:!1,showModalEditRequest:!1,editingCollection:void 0,editingCollectionIndex:void 0,editingFolder:void 0,editingFolderName:void 0,editingFolderIndex:void 0,editingFolderPath:void 0,editingRequest:void 0,editingRequestIndex:void 0,filterText:""}},computed:{filteredCollections(){const e=bs(this.collections);if(!this.filterText)return e;const t=this.filterText.toLowerCase(),o=[];for(const l of e){const n=[],a=[];for(const c of l.requests)c.name.toLowerCase().includes(t)&&n.push(c);for(const c of l.folders){const f=[];for(const y of c.requests)y.name.toLowerCase().includes(t)&&f.push(y);if(f.length>0){const y=Object.assign({},c);y.requests=f,a.push(y)}}if(n.length+a.length>0){const c=Object.assign({},l);c.requests=n,c.folders=a,o.push(c)}}return o}},methods:{displayModalAdd(e){this.showModalAdd=e},displayModalEdit(e){this.showModalEdit=e,e||this.resetSelectedData()},displayModalImportExport(e){this.showModalImportExport=e},displayModalAddRequest(e){this.showModalAddRequest=e,e||this.resetSelectedData()},displayModalAddFolder(e){this.showModalAddFolder=e,e||this.resetSelectedData()},displayModalEditFolder(e){this.showModalEditFolder=e,e||this.resetSelectedData()},displayModalEditRequest(e){this.showModalEditRequest=e,e||this.resetSelectedData()},editCollection(e,t){this.$data.editingCollection=e,this.$data.editingCollectionIndex=t,this.displayModalEdit(!0)},onAddRequest({name:e,path:t}){var l;const o={...Jt().request,name:e};Rt(t,o),Wt({request:o,schema:"",response:""}),(l=ee.analytics)==null||l.logEvent({type:"HOPP_SAVE_REQUEST",platform:"gql",createdNow:!0,workspaceType:"personal"}),this.displayModalAddRequest(!1)},addRequest(e){const{path:t}=e;this.$data.editingFolderPath=t,this.displayModalAddRequest(!0)},onAddFolder({name:e,path:t}){var o;ks(e,t),(o=ee.analytics)==null||o.logEvent({type:"HOPP_CREATE_COLLECTION",isRootCollection:!1,platform:"gql",workspaceType:"personal"}),this.displayModalAddFolder(!1)},addFolder(e){const{path:t}=e;this.$data.editingFolderPath=t,this.displayModalAddFolder(!0)},editFolder(e){const{folder:t,folderPath:o}=e;this.editingFolder=t,this.editingFolderPath=o,this.displayModalEditFolder(!0)},editRequest(e){const{collectionIndex:t,folderIndex:o,folderName:l,request:n,requestIndex:a,folderPath:c}=e;this.$data.editingFolderPath=c,this.$data.editingCollectionIndex=t,this.$data.editingFolderIndex=o,this.$data.editingFolderName=l,this.$data.editingRequest=n,this.$data.editingRequestIndex=a,this.displayModalEditRequest(!0)},resetSelectedData(){this.$data.editingCollection=void 0,this.$data.editingCollectionIndex=void 0,this.$data.editingFolder=void 0,this.$data.editingFolderIndex=void 0,this.$data.editingRequest=void 0,this.$data.editingRequestIndex=void 0},duplicateRequest({folderPath:e,request:t}){Rt(e,{...Ee(t),name:`${t.name} - ${this.t("action.duplicate")}`})}}}),Sc=["placeholder"],Ec={class:"flex justify-between flex-1 flex-shrink-0 border-y bg-primary border-dividerLight"},Tc={class:"flex"},Dc={class:"flex flex-col"},Ac={key:0,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Mc=["src","alt"],Lc={class:"pb-4 text-center"},Pc={key:1,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Oc={class:"my-2 text-center"};function Fc(e,t,o,l,n,a){const c=se,f=Ic,y=Kt,C=ic,h=tc,R=Xd,w=Gd,L=Ud,A=Ad,U=Id,X=de("tippy");return x(),M("div",{class:le({"rounded border border-divider":e.saveRequest})},[i("div",{class:"sticky z-10 flex flex-col flex-shrink-0 overflow-x-auto rounded-t bg-primary",style:Tt(e.saveRequest?"top: calc(-1 * var(--line-height-body))":"top: 0")},[N(i("input",{"onUpdate:modelValue":t[0]||(t[0]=T=>e.filterText=T),type:"search",autocomplete:"off",placeholder:e.t("action.search"),class:"py-2 pl-4 pr-2 bg-transparent"},null,8,Sc),[[qe,e.filterText]]),i("div",Ec,[$(c,{icon:e.IconPlus,label:e.t("action.new"),class:"!rounded-none",onClick:t[1]||(t[1]=T=>e.displayModalAdd(!0))},null,8,["icon","label"]),i("div",Tc,[N($(c,{to:"https://docs.hoppscotch.io/documentation/features/collections",blank:"",title:e.t("app.wiki"),icon:e.IconHelpCircle},null,8,["title","icon"]),[[X,{theme:"tooltip"}]]),e.saveRequest?K("",!0):N((x(),G(c,{key:0,title:e.t("modal.import_export"),icon:e.IconArchive,onClick:t[2]||(t[2]=T=>e.displayModalImportExport(!0))},null,8,["title","icon"])),[[X,{theme:"tooltip"}]])])])],4),i("div",Dc,[(x(!0),M(Re,null,Se(e.filteredCollections,(T,b)=>(x(),G(f,{key:`collection-${b}`,picked:e.picked,name:T.name,"collection-index":b,collection:T,"is-filtered":e.filterText.length>0,"save-request":e.saveRequest,onEditCollection:g=>e.editCollection(T,b),onAddRequest:t[3]||(t[3]=g=>e.addRequest(g)),onAddFolder:t[4]||(t[4]=g=>e.addFolder(g)),onEditFolder:t[5]||(t[5]=g=>e.editFolder(g)),onEditRequest:t[6]||(t[6]=g=>e.editRequest(g)),onDuplicateRequest:t[7]||(t[7]=g=>e.duplicateRequest(g)),onSelectCollection:g=>e.$emit("use-collection",T),onSelect:t[8]||(t[8]=g=>e.$emit("select",g))},null,8,["picked","name","collection-index","collection","is-filtered","save-request","onEditCollection","onSelectCollection"]))),128))]),e.collections.length===0?(x(),M("div",Ac,[i("img",{src:`/images/states/${e.colorMode.value}/pack.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",alt:e.t("empty.collections")},null,8,Mc),i("span",Lc,z(e.t("empty.collections")),1),$(c,{label:e.t("add.new"),filled:"",outline:"",onClick:t[9]||(t[9]=T=>e.displayModalAdd(!0))},null,8,["label"])])):K("",!0),e.filteredCollections.length!==0||e.collections.length===0?K("",!0):(x(),M("div",Pc,[$(y,{class:"pb-2 opacity-75 svg-icons"}),i("span",Oc,z(e.t("state.nothing_found"))+' "'+z(e.filterText)+'" ',1)])),$(C,{show:e.showModalAdd,onHideModal:t[10]||(t[10]=T=>e.displayModalAdd(!1))},null,8,["show"]),$(h,{show:e.showModalEdit,"editing-collection":e.editingCollection,"editing-collection-index":e.editingCollectionIndex,"editing-collection-name":e.editingCollection?e.editingCollection.name:"",onHideModal:t[11]||(t[11]=T=>e.displayModalEdit(!1))},null,8,["show","editing-collection","editing-collection-index","editing-collection-name"]),$(R,{show:e.showModalAddRequest,"folder-path":e.editingFolderPath,onAddRequest:t[12]||(t[12]=T=>e.onAddRequest(T)),onHideModal:t[13]||(t[13]=T=>e.displayModalAddRequest(!1))},null,8,["show","folder-path"]),$(w,{show:e.showModalAddFolder,"folder-path":e.editingFolderPath,onAddFolder:t[14]||(t[14]=T=>e.onAddFolder(T)),onHideModal:t[15]||(t[15]=T=>e.displayModalAddFolder(!1))},null,8,["show","folder-path"]),$(L,{show:e.showModalEditFolder,"collection-index":e.editingCollectionIndex,folder:e.editingFolder,"folder-index":e.editingFolderIndex,"folder-path":e.editingFolderPath,"editing-folder-name":e.editingFolder?e.editingFolder.name:"",onHideModal:t[16]||(t[16]=T=>e.displayModalEditFolder(!1))},null,8,["show","collection-index","folder","folder-index","folder-path","editing-folder-name"]),$(A,{show:e.showModalEditRequest,"folder-path":e.editingFolderPath,request:e.editingRequest,"request-index":e.editingRequestIndex,"editing-request-name":e.editingRequest?e.editingRequest.name:"",onHideModal:t[17]||(t[17]=T=>e.displayModalEditRequest(!1))},null,8,["show","folder-path","request","request-index","editing-request-name"]),$(U,{show:e.showModalImportExport,onHideModal:t[18]||(t[18]=T=>e.displayModalImportExport(!1))},null,8,["show"])],2)}const Uc=mt(wc,[["render",Fc]]),Hc={class:"flex flex-col"},Nc={class:"relative flex"},Bc=["onKeyup"],jc={for:"selectLabelSaveReq"},Vc={class:"p-4"},Gc={class:"flex space-x-2"},xp=te({__name:"SaveRequest",props:{show:{type:Boolean,default:!1},mode:{default:"rest"}},emits:["edit-request","hide-modal"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=_s(),c=Rs(()=>_e.value,()=>_e.value.document.request.name),f=I(o.mode==="rest"?c.value:a.value);fe(()=>[_e.value,a.value],()=>{var m,p;o.mode==="rest"?f.value=(p=(m=_e.value)==null?void 0:m.document.request.name)!=null?p:"":f.value=a.value});const y=Is({name:f,collectionIndex:void 0,folderName:void 0,requestIndex:void 0}),C=I({type:"my-collections",selectedTeam:void 0}),h=I(null),R=I(!1);fe(()=>y.collectionIndex,()=>{y.folderName=void 0,y.requestIndex=void 0}),fe(()=>y.folderName,()=>{y.requestIndex=void 0});const w=m=>{C.value.selectedTeam=m},L=m=>{C.value.type=m},A=m=>{h.value=m},U=async()=>{var p,r,_,E,q,v,H,j,F;if(!f.value){n.error(`${l("error.empty_req_name")}`);return}if(h.value===null){n.error(`${l("collection.select")}`);return}const m=o.mode==="rest"?Ee(_e.value.document.request):Ee(Jt().request);if(m.name=f.value,h.value.pickedType==="my-collection"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");const S=_t(`${h.value.collectionIndex}`,m);_e.value.document={request:m,isDirty:!1,saveContext:{originLocation:"user-collection",folderPath:`${h.value.collectionIndex}`,requestIndex:S}},(p=ee.analytics)==null||p.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"rest",workspaceType:"personal"}),T()}else if(h.value.pickedType==="my-folder"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");const S=_t(h.value.folderPath,m);_e.value.document={request:m,isDirty:!1,saveContext:{originLocation:"user-collection",folderPath:h.value.folderPath,requestIndex:S}},(r=ee.analytics)==null||r.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"rest",workspaceType:"personal"}),T()}else if(h.value.pickedType==="my-request"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");nl(h.value.folderPath,h.value.requestIndex,m),_e.value.document={request:m,isDirty:!1,saveContext:{originLocation:"user-collection",folderPath:h.value.folderPath,requestIndex:h.value.requestIndex}},(_=ee.analytics)==null||_.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!1,platform:"rest",workspaceType:"personal"}),T()}else if(h.value.pickedType==="teams-collection"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");X(h.value.collectionID,m),(E=ee.analytics)==null||E.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"rest",workspaceType:"team"})}else if(h.value.pickedType==="teams-folder"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");X(h.value.folderID,m),(q=ee.analytics)==null||q.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"rest",workspaceType:"team"})}else if(h.value.pickedType==="teams-request"){if(!Ke(m))throw new Error("requestUpdated is not a REST Request");if(C.value.type!=="team-collections"||!C.value.selectedTeam)throw new Error("Collections Type mismatch");R.value=!0;const S={request:JSON.stringify(m),title:m.name};(v=ee.analytics)==null||v.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!1,platform:"rest",workspaceType:"team"}),re(bl(h.value.requestID,S),he(J=>{n.error(`${g(J)}`),R.value=!1},()=>{R.value=!1,T()}))()}else h.value.pickedType==="gql-my-request"?(al(h.value.folderPath,h.value.requestIndex,m),(H=ee.analytics)==null||H.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!1,platform:"gql",workspaceType:"team"}),T()):h.value.pickedType==="gql-my-folder"?(Rt(h.value.folderPath,m),(j=ee.analytics)==null||j.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"gql",workspaceType:"team"}),T()):h.value.pickedType==="gql-my-collection"&&(Rt(`${h.value.collectionIndex}`,m),(F=ee.analytics)==null||F.logEvent({type:"HOPP_SAVE_REQUEST",createdNow:!0,platform:"gql",workspaceType:"team"}),T())},X=(m,p)=>{if(C.value.type!=="team-collections"||!C.value.selectedTeam)throw new Error("Collections Type mismatch");R.value=!0;const r={title:p.name,request:JSON.stringify(p),teamID:C.value.selectedTeam.id};re(Vt(m,r),he(_=>{n.error(`${g(_)}`),R.value=!1},_=>{const{createRequestInCollection:E}=_;_e.value.document={request:p,isDirty:!1,saveContext:{originLocation:"team-collection",requestID:E.id,collectionID:E.collection.id,teamID:E.collection.team.id}},R.value=!1,T()}))()},T=()=>{n.success(`${l("request.added")}`),jt(()=>{_e.value.document.isDirty=!1}),b()},b=()=>{h.value=null,t("hide-modal")},g=m=>{if(console.error(m),m.type==="network_error")return l("error.network_error");switch(m.error){case"team_coll/short_title":return l("collection.name_length_insufficient");case"team/invalid_coll_id":return l("team.invalid_id");case"team/not_required_role":return l("profile.no_permission");case"team_req/not_required_role":return l("profile.no_permission");case"Forbidden resource":return l("profile.no_permission");default:return l("error.something_went_wrong")}};return(m,p)=>{const r=Uc,_=Cd,E=Ie,q=se,v=ke,H=de("focus");return e.show?(x(),G(v,{key:0,dialog:"",title:`${s(l)("collection.save_as")}`,onClose:b},{body:B(()=>[i("div",Hc,[i("div",Nc,[N(i("input",{id:"selectLabelSaveReq","onUpdate:modelValue":p[0]||(p[0]=j=>f.value=j),class:"input floating-input",placeholder:" ",type:"text",autocomplete:"off",onKeyup:Q(U,["enter"])},null,40,Bc),[[qe,f.value],[H]]),i("label",jc,z(s(l)("request.name")),1)]),i("label",Vc,z(s(l)("collection.select_location")),1),e.mode==="graphql"?(x(),G(r,{key:0,picked:h.value,"save-request":!0,onSelect:A},null,8,["picked"])):(x(),G(_,{key:1,picked:h.value,"save-request":!0,onSelect:A,onUpdateTeam:w,onUpdateCollectionType:L},null,8,["picked"]))])]),footer:B(()=>[i("span",Gc,[$(E,{label:`${s(l)("action.save")}`,loading:R.value,outline:"",onClick:U},null,8,["label","loading"]),$(q,{label:`${s(l)("action.cancel")}`,outline:"",filled:"",onClick:b},null,8,["label"])])]),_:1},8,["title"])):K("",!0)}}}),zc={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Kc=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M22 3H2l8 9.46V19l4 2v-8.54L22 3z"},null,-1),Jc=[Kc];function Wc(e,t){return x(),M("svg",zc,Jc)}const Xc={name:"lucide-filter",render:Wc};function Qc(e){return e>=100&&e<200?{name:"informational",className:"info-response"}:e>=200&&e<300?{name:"successful",className:"success-response"}:e>=300&&e<400?{name:"redirection",className:"redir-response"}:e>=400&&e<500?{name:"client error",className:"cl-error-response"}:e>=500&&e<600?{name:"server error",className:"sv-error-response"}:{name:"unknown",className:"missing-data-response"}}const Yc={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Zc=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m12 2l3.09 6.26L22 9.27l-5 4.87l1.18 6.88L12 17.77l-6.18 3.25L7 14.14L2 9.27l6.91-1.01L12 2z"},null,-1),eu=[Zc];function tu(e,t){return x(),M("svg",Yc,eu)}const _l={name:"lucide-star",render:tu},ou={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},lu=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.34 8.34L2 9.27l5 4.87L5.82 21L12 17.77L18.18 21l-.59-3.43m.83-4.81L22 9.27l-6.91-1L12 2l-1.44 2.91M2 2l20 20"},null,-1),nu=[lu];function su(e,t){return x(),M("svg",ou,nu)}const Rl={name:"lucide-star-off",render:su},au={class:"flex items-stretch group"},iu=["title"],ru={class:"font-semibold truncate text-tiny"},du={class:"truncate"},cu=te({__name:"Card",props:{entry:null,showMore:{type:Boolean}},emits:["use-entry","delete-entry","toggle-star"],setup(e,{emit:t}){const o=e,l=oe(),n=W(()=>{if(o.entry.responseMeta.duration){const c=o.entry.responseMeta.duration;return c?c>0?`${l("request.duration")}: ${c}ms`:l("error.no_duration"):""}else return l("error.no_duration")}),a=W(()=>Qc(o.entry.responseMeta.statusCode)||{className:""});return(c,f)=>{const y=se,C=de("tippy");return x(),M("div",au,[N((x(),M("span",{class:le(["flex items-center justify-center w-16 px-2 truncate cursor-pointer",s(a).className]),"data-testid":"restore_history_entry",title:`${s(n)}`,onClick:f[0]||(f[0]=h=>t("use-entry"))},[i("span",ru,z(e.entry.request.method),1)],10,iu)),[[C,{theme:"tooltip",delay:[500,20]}]]),N((x(),M("span",{class:"flex flex-1 min-w-0 py-2 pr-2 cursor-pointer transition group-hover:text-secondaryDark","data-testid":"restore_history_entry",onClick:f[1]||(f[1]=h=>t("use-entry"))},[i("span",du,z(e.entry.request.endpoint),1)])),[[C,{theme:"tooltip",delay:[500,20],content:e.entry.updatedOn?s(cl)(e.entry.updatedOn):null}]]),N($(y,{icon:s(Xt),color:"red",title:s(l)("action.remove"),class:"hidden group-hover:inline-flex","data-testid":"delete_history_entry",onClick:f[2]||(f[2]=h=>t("delete-entry"))},null,8,["icon","title"]),[[C,{theme:"tooltip"}]]),N($(y,{title:e.entry.star?s(l)("remove.star"):s(l)("add.star"),class:le({"group-hover:inline-flex hidden":!e.entry.star}),icon:e.entry.star?s(Rl):s(_l),color:"yellow","data-testid":"star_button",onClick:f[3]||(f[3]=h=>t("toggle-star"))},null,8,["title","class","icon"]),[[C,{theme:"tooltip"}]])])}}}),uu={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pu=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 14h6v6m10-10h-6V4m0 6l7-7M3 21l7-7"},null,-1),fu=[pu];function mu(e,t){return x(),M("svg",uu,fu)}const vu={name:"lucide-minimize-2",render:mu},hu={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},gu=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"},null,-1),yu=[gu];function qu(e,t){return x(),M("svg",hu,yu)}const xu={name:"lucide-maximize-2",render:qu},$u={class:"flex flex-col group"},Cu={class:"flex items-center"},bu={class:"truncate"},ku={class:"flex flex-col text-tiny"},_u=te({__name:"Card",props:{entry:null,showMore:{type:Boolean}},emits:["delete-entry","toggle-star"],setup(e,{emit:t}){const o=e,l=oe(),n=I(!1),a=W(()=>n.value?o.entry.request.query.split(`
`):o.entry.request.query.split(`
`).slice(0,2).concat(["..."])),c=()=>{Wt({request:Ee(il({name:o.entry.request.name,url:o.entry.request.url,headers:o.entry.request.headers,query:o.entry.request.query,variables:o.entry.request.variables,auth:o.entry.request.auth})),schema:"",response:o.entry.response})};return(f,y)=>{const C=se,h=de("tippy");return x(),M("div",$u,[i("div",Cu,[N((x(),M("span",{class:"flex flex-1 min-w-0 py-2 pl-4 pr-2 cursor-pointer transition group-hover:text-secondaryDark","data-testid":"restore_history_entry",onClick:c},[i("span",bu,z(e.entry.request.url),1)])),[[h,{theme:"tooltip",delay:[500,20],content:e.entry.updatedOn?s(cl)(e.entry.updatedOn):null}]]),N($(C,{icon:s(Xt),color:"red",title:s(l)("action.remove"),class:"hidden group-hover:inline-flex","data-testid":"delete_history_entry",onClick:y[0]||(y[0]=R=>t("delete-entry"))},null,8,["icon","title"]),[[h,{theme:"tooltip"}]]),N($(C,{title:n.value?s(l)("hide.more"):s(l)("show.more"),icon:n.value?s(vu):s(xu),class:"hidden group-hover:inline-flex",onClick:y[1]||(y[1]=R=>n.value=!n.value)},null,8,["title","icon"]),[[h,{theme:"tooltip"}]]),N($(C,{title:e.entry.star?s(l)("remove.star"):s(l)("add.star"),icon:e.entry.star?s(Rl):s(_l),color:"yellow",class:le({"group-hover:inline-flex hidden":!e.entry.star}),"data-testid":"star_button",onClick:y[2]||(y[2]=R=>t("toggle-star"))},null,8,["title","icon","class"]),[[h,{theme:"tooltip"}]])]),i("div",ku,[(x(!0),M(Re,null,Se(s(a),(R,w)=>(x(),M("span",{key:`line-${w}`,class:"px-4 font-mono truncate whitespace-pre cursor-pointer text-secondaryLight","data-testid":"restore_history_entry",onClick:c},z(R),1))),128))])])}}}),Ru={class:"sticky top-0 z-10 flex flex-col flex-shrink-0 overflow-x-auto border-b bg-primary border-dividerLight"},Iu={class:"flex"},wu=["placeholder"],Su={class:"flex"},Eu={ref:"tippyActions",class:"flex flex-col focus:outline-none"},Tu={class:"pb-2 pl-4 text-tiny text-secondaryLight"},Du=i("hr",null,null,-1),Au={class:"pb-2 pl-4 text-tiny text-secondaryLight"},Mu={class:"flex flex-col"},Lu={class:"flex items-center justify-between flex-1 min-w-0 transition cursor-pointer focus:outline-none text-secondaryLight text-tiny group"},Pu={class:"inline-flex items-center justify-center px-4 py-2 transition group-hover:text-secondary truncate"},Ou={key:0,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Fu=["src","alt"],Uu={class:"mb-4 text-center"},Hu={key:1,class:"flex flex-col items-center justify-center p-4 text-secondaryLight"},Nu={class:"mt-2 mb-4 text-center"},$p=te({__name:"index",props:{page:null},setup(e){const t=e,o=me(),l=oe(),n=tt(),a=I(""),c=I(!1),f=I(!1),y=Ce(t.page==="rest"?ws:Ss,[]),C=(_,E)=>_==null?!1:typeof _=="string"?E.test(_):typeof _=="number"?E.test(_.toString()):typeof _=="object"?Object.values(_).some(q=>C(q,E)):Array.isArray(_)?_.some(q=>C(q,E)):!1,h=W(()=>re(y.value,Ds(_=>!!_.updatedOn&&(a.value.length===0||C(_,new RegExp(ka(a.value),"gi")))),Es(_=>({entry:_,timeAgo:Ts(_.updatedOn)})))),R=W(()=>[{value:"ALL",label:l("filter.all")},{value:"STARRED",label:l("filter.starred")}]),w=I("ALL"),L=W(()=>[{value:"TIME",label:l("group.time")},{value:"URL",label:l("group.url")}]),A=I("TIME"),U=W(()=>Ea(Ra(h.value,_=>w.value==="STARRED"?_.entry.star:!0),_=>A.value==="TIME"?_.timeAgo.value:X(_.entry))),X=_=>{if(t.page==="rest")return _.request.endpoint;if(t.page==="graphql")return _.request.url},T=()=>{t.page==="rest"?Ms():Ls(),o.success(`${l("state.history_deleted")}`)},b=_=>{ct({request:_.request,isDirty:!1})},g=_=>t.page==="rest",m=_=>{g()?_.forEach(E=>{Po(E.entry)}):_.forEach(E=>{Oo(E.entry)}),o.success(`${l("state.deleted")}`)},p=_=>{t.page==="rest"?Po(_):Oo(_),o.success(`${l("state.deleted")}`)},r=_=>{t.page==="rest"?Ps(_):Os(_)};return(_,E)=>{const q=xl,v=se,H=Fs,j=Oe("tippy"),F=ol,S=Kt,J=ft,P=de("tippy");return x(),M("div",null,[i("div",Ru,[$(q,{section:s(l)("tab.history")},null,8,["section"]),i("div",Iu,[N(i("input",{"onUpdate:modelValue":E[0]||(E[0]=V=>a.value=V),type:"search",autocomplete:"off",class:"flex flex-1 p-4 py-2 bg-transparent",placeholder:`${s(l)("action.search")}`},null,8,wu),[[qe,a.value]]),i("div",Su,[N($(v,{to:"https://docs.hoppscotch.io/documentation/features/history",blank:"",title:s(l)("app.wiki"),icon:s(Et)},null,8,["title","icon"]),[[P,{theme:"tooltip"}]]),$(j,{interactive:"",trigger:"click",theme:"popover"},{content:B(({hide:V})=>[i("div",Eu,[i("div",Tu,z(s(l)("action.filter")),1),$(H,{modelValue:w.value,"onUpdate:modelValue":[E[1]||(E[1]=Y=>w.value=Y),Y=>V()],radios:s(R)},null,8,["modelValue","radios","onUpdate:modelValue"]),Du,i("div",Au,z(s(l)("action.group_by")),1),$(H,{modelValue:A.value,"onUpdate:modelValue":[E[2]||(E[2]=Y=>A.value=Y),Y=>V()],radios:s(L)},null,8,["modelValue","radios","onUpdate:modelValue"])],512)]),default:B(()=>[N($(v,{title:s(l)("action.filter"),icon:s(Xc)},null,8,["title","icon"]),[[P,{theme:"tooltip"}]])]),_:1}),N($(v,{"data-testid":"clear_history",disabled:s(y).length===0,icon:s(Ze),title:s(l)("action.clear_all"),onClick:E[3]||(E[3]=V=>f.value=!0)},null,8,["disabled","icon","title"]),[[P,{theme:"tooltip"}]])])])]),i("div",Mu,[(x(!0),M(Re,null,Se(s(U),(V,Y)=>(x(),M("details",{key:`filteredHistoryGroup-${Y}`,class:"flex flex-col",open:""},[i("summary",Lu,[i("span",Pu,[$(F,{class:"mr-2 indicator flex flex-shrink-0"}),i("span",{class:le([{"capitalize-first":A.value==="TIME"},"truncate"])},z(Y),3)]),N($(v,{icon:s(Xt),color:"red",title:s(l)("action.remove"),class:"hidden group-hover:inline-flex",onClick:ue=>m(V)},null,8,["icon","title","onClick"]),[[P,{theme:"tooltip"}]])]),(x(!0),M(Re,null,Se(V,(ue,ae)=>(x(),G(Ye(e.page==="rest"?cu:_u),{id:ae,key:`entry-${ae}`,entry:ue.entry,"show-more":c.value,onToggleStar:De=>r(ue.entry),onDeleteEntry:De=>p(ue.entry),onUseEntry:De=>b(As(ue.entry))},null,40,["id","entry","show-more","onToggleStar","onDeleteEntry","onUseEntry"]))),128))]))),128))]),s(y).length===0?(x(),M("div",Ou,[i("img",{src:`/images/states/${s(n).value}/history.svg`,loading:"lazy",class:"inline-flex flex-col object-contain object-center w-16 h-16 my-4",alt:`${s(l)("empty.history")}`},null,8,Fu),i("span",Uu,z(s(l)("empty.history")),1)])):Object.keys(s(U)).length===0||s(h).length===0?(x(),M("div",Hu,[$(S,{class:"pb-2 opacity-75 svg-icons"}),i("span",Nu,z(s(l)("state.nothing_found"))+' "'+z(a.value||w.value)+'" ',1),$(v,{label:s(l)("action.clear"),outline:"",onClick:E[4]||(E[4]=()=>{a.value="",w.value="ALL"})},null,8,["label"])])):K("",!0),$(J,{show:f.value,title:`${s(l)("confirm.remove_history")}`,onHideModal:E[5]||(E[5]=V=>f.value=!1),onResolve:T},null,8,["show","title"])])}}}),Bu={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ju=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("circle",{cx:"12",cy:"12",r:"10"}),i("path",{d:"M12 6v6l4 2"})],-1),Vu=[ju];function Gu(e,t){return x(),M("svg",Bu,Vu)}const Cp={name:"lucide-clock",render:Gu};function We(e,t){return Us((o,l)=>{const n=fe(e,(a,c)=>{a[t]!==c[t]&&l()});return Hs(()=>{n()}),{get(){return o(),e.value[t]},set(a){l(),e.value=Object.assign(e.value,{[t]:a})}}})}const Il=`${window.location.origin}/`,zu=async(e,t)=>{const o=Object.keys(t).map(n=>`${n}=${t[n]}`).join("&"),l={method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:o};try{return await(await fetch(e,l)).json()}catch(n){console.error(n)}},Ku=e=>e===""?{}:e.split("&").map(l=>l.split("=")).reduce((l,n)=>({...l,[n[0]]:n[1]}),{}),Ju=async e=>{const t={method:"GET",headers:{"Content-type":"application/json"}};try{return await(await fetch(e,t)).json()}catch(o){console.error(o)}},jo=()=>{const e=new Uint32Array(28);return window.crypto.getRandomValues(e),Array.from(e,t=>`0${t.toString(16)}`.slice(-2)).join("")},Wu=e=>{const o=new TextEncoder().encode(e);return window.crypto.subtle.digest("SHA-256",o)},Xu=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),Qu=async e=>{const t=await Wu(e);return Xu(t)},Yu=async({oidcDiscoveryUrl:e,grantType:t,authUrl:o,accessTokenUrl:l,clientId:n,clientSecret:a,scope:c})=>{if(e!==""){const{authorization_endpoint:R,token_endpoint:w}=await Ju(e);o=R,l=w}dt("tokenEndpoint",l),dt("client_id",n),dt("client_secret",a);const f=jo();dt("pkce_state",f);const y=jo();dt("pkce_codeVerifier",y);const C=await Qu(y),h=()=>`${o+`?response_type=${t}`}&client_id=${encodeURIComponent(n)}&state=${encodeURIComponent(f)}&scope=${encodeURIComponent(c)}&redirect_uri=${encodeURIComponent(Il)}&code_challenge=${encodeURIComponent(C)}&code_challenge_method=S256`;window.location=h()},bp=()=>{let e="";const t=Ku(window.location.search.substring(1));if(t.error&&alert(`Error returned from authorization server: ${t.error}`),t.code){if(it("pkce_state")!==t.state)alert("Invalid state"),Promise.reject(e);else try{e=zu(it("tokenEndpoint"),{grant_type:"authorization_code",code:t.code,client_id:it("client_id"),client_secret:it("client_secret"),redirect_uri:Il,code_verifier:it("pkce_codeVerifier")})}catch(o){return console.error(o),Promise.reject(e)}return rt("pkce_state"),rt("pkce_codeVerifier"),rt("tokenEndpoint"),rt("client_id"),rt("client_secret"),e}return Promise.reject(e)},Zu={class:"flex flex-col"},ep={class:"flex flex-1 border-b border-dividerLight"},tp={class:"flex flex-1 border-b border-dividerLight"},op={class:"flex flex-1 border-b border-dividerLight"},lp={class:"flex flex-1 border-b border-dividerLight"},np={class:"flex flex-1 border-b border-dividerLight"},sp={class:"flex flex-1 border-b border-dividerLight"},ap={class:"p-2"},kp=te({__name:"OAuth2Authorization",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,l=oe(),n=me(),a=I(o.modelValue);fe(()=>a.value,L=>{t("update:modelValue",L)});const c=We(a,"oidcDiscoveryURL"),f=We(a,"authURL"),y=We(a,"accessTokenURL"),C=We(a,"clientID"),h=We(a,"clientSecret"),R=We(a,"scope"),w=async()=>{if(c.value===""&&(f.value===""||y.value==="")){n.error(`${l("error.incomplete_config_urls")}`);return}const L=Ns(),A=[...L.selected,...L.global];try{const U={grantType:"code",oidcDiscoveryUrl:Je(c.value,A),authUrl:Je(f.value,A),accessTokenUrl:Je(y.value,A),clientId:Je(C.value,A),clientSecret:Je(h.value,A),scope:Je(R.value,A)};await Yu(U)}catch(U){n.error(`${U}`)}};return(L,A)=>{const U=Ks,X=se;return x(),M("div",Zu,[i("div",ep,[$(U,{modelValue:s(c),"onUpdate:modelValue":A[0]||(A[0]=T=>Be(c)?c.value=T:null),placeholder:"OpenID Connect Discovery URL"},null,8,["modelValue"])]),i("div",tp,[$(U,{modelValue:s(f),"onUpdate:modelValue":A[1]||(A[1]=T=>Be(f)?f.value=T:null),placeholder:"Authorization URL"},null,8,["modelValue"])]),i("div",op,[$(U,{modelValue:s(y),"onUpdate:modelValue":A[2]||(A[2]=T=>Be(y)?y.value=T:null),placeholder:"Access Token URL"},null,8,["modelValue"])]),i("div",lp,[$(U,{modelValue:s(C),"onUpdate:modelValue":A[3]||(A[3]=T=>Be(C)?C.value=T:null),placeholder:"Client ID"},null,8,["modelValue"])]),i("div",np,[$(U,{modelValue:s(h),"onUpdate:modelValue":A[4]||(A[4]=T=>Be(h)?h.value=T:null),placeholder:"Client Secret"},null,8,["modelValue"])]),i("div",sp,[$(U,{modelValue:s(R),"onUpdate:modelValue":A[5]||(A[5]=T=>Be(R)?R.value=T:null),placeholder:"Scope"},null,8,["modelValue"])]),i("div",ap,[$(X,{filled:"",label:`${s(l)("authorization.generate_token")}`,onClick:A[6]||(A[6]=T=>w())},null,8,["label"])])])}}}),_p=["WWW-Authenticate","Authorization","Proxy-Authenticate","Proxy-Authorization","Age","Cache-Control","Clear-Site-Data","Expires","Pragma","Warning","Accept-CH","Accept-CH-Lifetime","Early-Data","Content-DPR","DPR","Device-Memory","Save-Data","Viewport-Width","Width","Last-Modified","ETag","If-Match","If-None-Match","If-Modified-Since","If-Unmodified-Since","Vary","Connection","Keep-Alive","Accept","Accept-Charset","Accept-Encoding","Accept-Language","Expect","Max-Forwards","Cookie","Set-Cookie","Cookie2","Set-Cookie2","Access-Control-Allow-Origin","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Service-Worker-Allowed","Timing-Allow-Origin","X-Permitted-Cross-Domain-Policies","DNT","Tk","Content-Disposition","Content-Length","Content-Type","Content-Encoding","Content-Language","Content-Location","Forwarded","X-Forwarded-For","X-Forwarded-Host","X-Forwarded-Proto","Via","Location","From","Host","Referer","Referrer-Policy","User-Agent","Allow","Server","Accept-Ranges","Range","If-Range","Content-Range","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Content-Security-Policy","Content-Security-Policy-Report-Only","Expect-CT","Feature-Policy","Public-Key-Pins","Public-Key-Pins-Report-Only","Strict-Transport-Security","Upgrade-Insecure-Requests","X-Content-Type-Options","X-Download-Options","X-Frame-Options","X-Powered-By","X-XSS-Protection","Last-Event-ID","NEL","Ping-From","Ping-To","Report-To","Transfer-Encoding","TE","Trailer","Sec-WebSocket-Key","Sec-WebSocket-Extensions","Sec-WebSocket-Accept","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Accept-Push-Policy","Accept-Signature","Alt-Svc","Date","Large-Allocation","Link","Push-Policy","Retry-After","Signature","Signed-Headers","Server-Timing","SourceMap","Upgrade","X-DNS-Prefetch-Control","X-Firefox-Spdy","X-Pingback","X-Requested-With","X-Robots-Tag","X-UA-Compatible"],Rp=e=>t=>re(Ee(t),o=>(delete o[e],o)),Ip=(e,t)=>o=>t.findIndex(l=>kt(o[e],l))!==-1,wp=(e,t)=>o=>e in o&&(t===void 0||typeof o[e]===t),Sp=(e,t)=>o=>e in o&&Array.isArray(o[e])&&o[e].every(l=>typeof l===t),ip={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rp=i("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[i("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),i("path",{d:"M17 21v-8H7v8M7 3v5h8"})],-1),dp=[rp];function cp(e,t){return x(),M("svg",ip,dp)}const Ep={name:"lucide-save",render:cp};export{to as I,xl as _,Qe as a,Cp as b,Cd as c,$p as d,kp as e,Qc as f,_p as g,wp as h,Sp as i,Ep as j,xp as k,bp as l,pi as m,tr as n,Rp as o,We as p,Uc as q,Xc as r,Ip as s};
//# sourceMappingURL=save.06de7724.js.map
